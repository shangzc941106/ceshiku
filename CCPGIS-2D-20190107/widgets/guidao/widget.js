//定义一些常量, 用于坐标转换
var x_PI = 3.14159265358979324 * 3000.0 / 180.0;
var PI = 3.1415926535897932384626;
var a = 6378245.0;
var ee = 0.00669342162296594323;

var ghLine = 
    [
        {'M8线三期': [
            {'王府井': '116.411503,39.911607'},
            {'前门': '116.398353,39.900558'},
            {'永定门': '116.404,39.873135'},
            {'大红门': '116.40329,39.833958'},
            {'西洼池': '116.420025,39.781747'}
        ]},
        {'M6线二期': [
            {'物资学院站': '116.639316,39.926801;116.645753,39.926674;116.653081,39.927143;116.653982,39.927143;116.654411,39.927061;116.656954,39.92632;116.65741,39.926217;116.657416,39.926209;116.659025,39.925526;116.660522,39.924232;116.660607,39.924088;116.660656,39.923607;116.66094,39.921891;116.661111,39.919274'},
            {'通州北关站': '116.661131,39.917962;116.661142,39.916613;116.662376,39.915774;116.667011,39.914931;116.66759,39.914733;116.66759,39.914733'},
            {'通运门站': '116.673284,39.910583;116.683651,39.904586;116.686784,39.903566'},
            {'北运河西站': '116.688358,39.903024;116.69192,39.90167;116.695267,39.901605'},
            {'北运河东站': '116.707564,39.903079'},
            {'郝家府站': '116.717826,39.903195'},
            {'东夏园站': '116.73385,39.903147;116.744643,39.903077'},
            {'潞城站': '116.74739,39.902674'}
        ]},
        {'M15线二期': [
            {'中央党校': '116.280631,40.005058'},
            {'圆明园': '116.303564,40.007919'},
            {'六道口': '116.35267,40.000958'},
            {'大屯': '116.405594,40.002522'},
            {'望京西': '116.449884,39.995724'}
        ]},
        {'房山线': [
            {'郭公庄': '116.301889,39.814322;116.301767,39.811068;116.301166,39.809914;116.300265,39.809486;116.292926,39.808167'},
            {'大葆台': '116.291681,39.80781;116.275843,39.801628;116.245803,39.797342;116.228293,39.796287'},
            {'稻田': '116.21884,39.794885;116.216191,39.794226'},
            {'长阳': '116.211692,39.763871;116.194099,39.76376;116.193466,39.763719;116.192554,39.763513;116.192608,39.763546;116.191073,39.762795;116.189668,39.761154'},
            {'篱笆房': '116.189453,39.760651;116.185473,39.75218'},
            {'广阳城': '116.184969,39.747932'},
            {'良乡大学城北站': '116.183386,39.730021;116.183478,39.726432;116.183166,39.725466;116.183166,39.725448;116.182635,39.724731;116.182082,39.724227;116.180779,39.723563;116.179979,39.723328;116.179132,39.723183'},
            {'良乡大学城站': '116.17652,39.723189'},
            {'良乡大学城西': '116.156282,39.723157;116.153689,39.72319;116.152118,39.723235'},
            {'良乡南关': '116.140804,39.723202'},
            {'苏庄': '116.115306,39.723188'}
        ]},
        {'M14线二期': [
            {'劲松': '116.455111,39.884433'},
            {'朝阳公园': '116.482534,39.944304'},
            {'酒仙桥': '116.494721,39.973688'},
            {'望京': '116.466485,39.995197'}
        ]},
        {'S1线': [
            {'五路居': '116.276531,39.932584;116.274686,39.932482;116.273827,39.932152;116.272068,39.929256;116.271038,39.928829'},
            {'田村': '116.25267,39.929717;116.238508,39.929355;116.236791,39.929684;116.23353,39.93179;116.231117,39.932449'},
            {'廖公庄': '116.226749,39.932514;116.224603,39.93258;116.222973,39.932909;116.202931,39.933798;116.202159,39.933633;116.201687,39.933436;116.20027,39.93211;116.197181,39.930606;116.191387,39.929115'},
            {'杨庄': '116.186409,39.928039'},
            {'苹果园': '116.178266,39.925843;116.176614,39.925333;116.175176,39.924741;116.172773,39.924181;116.171163,39.924033;116.169661,39.923852;116.167365,39.923885;116.163439,39.923852'},
            {'金安桥': '116.161861,39.923959'},
            {'四道桥': '116.133988,39.916044;116.130898,39.914099;116.118838,39.911881;116.118151,39.911617;116.116993,39.91142'},
            {'桥户营': '116.115791,39.911403;116.113248,39.911115;116.113248,39.911114;116.112776,39.911976;116.112271,39.911729;116.111692,39.911136;116.111467,39.910338;116.11151,39.91014'},
            {'上岸': '116.112175,39.905161;116.112768,39.901199'},
            {'栗园庄': '116.11313,39.895899;116.113373,39.892788;116.113266,39.891998;116.113072,39.891471;116.111978,39.890582;116.111313,39.890368;116.117086,39.890318'},
            {'小园': '116.11444,39.890471'},
            {'石厂': '116.100306,39.889413'}
        ]},
        {'M7线一期': [
            {'北京西站': '116.322056,39.89491'},
            {'湾子站': '116.327753,39.889954'},
            {'达官营': '116.336455,39.889884'},
            {'菜市口': '116.374425,39.889297'},
            {'珠市口站': '116.398104,39.891167'},
            {'磁器口': '116.41887,39.893093'},
            {'广渠门': '116.44525,39.894087'},
            {'百子湾': '116.490883,39.894566'},
            {'化工站': '116.503439,39.887369'},
            {'厚俸桥站': '116.500801,39.870663'},
            {'垡头站': '116.511829,39.860864'},
            {'焦化厂站': '116.537247,39.855488'}
        ]},
        {'M15线一期': [
            {'望京西': '116.447274,39.995159;116.453132,39.99659;116.454247,39.996754;116.46695,39.997017;116.46798,39.997214'},
            {'望京': '116.469289,39.998611;116.472958,40.001636;116.473709,40.001833;116.48034,40.002047;116.481992,40.001866;116.484996,40.001883;116.485597,40.001998'},
            {'望京东': '116.487035,40.003329;116.489717,40.005709;116.490919,40.008734;116.492034,40.015636'},
            {'崔各庄': '116.492378,40.022341;116.492936,40.032199;116.493214,40.032742;116.493708,40.033037;116.494545,40.0333'},
            {'马泉营': '116.503278,40.033974;116.525208,40.03473;116.526066,40.03496;116.528341,40.03588;116.530658,40.037588;116.532976,40.041564'},
            {'孙河': '116.534392,40.045243;116.539756,40.05408;116.541087,40.055427;116.544091,40.057332;116.553146,40.063901;116.554262,40.065675'},
            {'国展': '116.554948,40.070273'},
            {'花梨坎': '116.557437,40.084525;116.561514,40.108292'},
            {'后沙峪': '116.563875,40.114299;116.568165,40.119352;116.57752,40.116571;116.580567,40.11772;116.582111,40.117916'},
            {'南法信': '116.609535,40.118478;116.616923,40.11876;116.631053,40.118965'},
            {'石门': '116.641117,40.119842;116.642307,40.119892;116.649238,40.119892'},
            {'顺义': '116.656952,40.130039;116.662306,40.119859;116.665213,40.11976;116.666533,40.119654;116.668636,40.119408;116.670202,40.119342;116.6709,40.119424;116.671951,40.119629;116.673357,40.130111;116.674027,40.130445;116.676999,40.132164;116.677847,40.132459;116.67915,40.132619;116.68187,40.132586'},
            {'俸伯': '116.684665,40.132681'}
        ]},
        {'M14线一期': [
            {'卢沟桥': '116.220832,39.850507'},
            {'丰台体育中心': '116.277448,39.866779'},
            {'菜户营': '116.344549,39.870916'},
            {'西铁营': '116.350845,39.859539'},
            {'北京南站': '116.378596,39.865208'},
            {'劲松': '116.455111,39.884433'}
        ]},
        {'大兴线': [
            {'马家堡': '116.371361,39.853109'},
            {'新宫': '116.365549,39.811592'},
            {'西红门': '116.351865,39.792959'},
            {'黄村': '116.33709,39.728538'},
            {'义和庄': '116.319079,39.711387'},
            {'天宫院': '116.319932,39.670342'}
        ]},
        {'M6线一期': [
            {'五路': '116.296959,39.938374'},
            {'北海北站': '116.386829,39.933247'},
            {'南锣鼓巷站': '116.404192,39.933848'},
            {'东大桥': '116.452766,39.921635'},
            {'星火': '116.508638,39.947098'},
            {'定福庄': '116.559329,39.916833'}
        ]},
        {'M8线二期': [
            {'南锣鼓巷': '116.404192,39.933848;116.399255,39.933729;116.398558,39.933779;116.397281,39.934017;116.396659,39.934285;116.396471,39.934503;116.396411,39.934634;116.396321,39.935963;116.396203,39.936917'},
            {'什刹海': '116.396219,39.937583'},
            {'鼓楼大街': '116.393851,39.947611'},
            {'安德里北街': '116.395145,39.957227'},
            {'安华桥': '116.394655,39.968507'},
            {'北土城': '116.394193,39.976953'},
            {'奥林匹克公园': '116.39296,40.000921;116.393058,40.005149'},
            {'森林公园南门': '116.3926,40.010112;116.391924,40.015296;116.390679,40.017893;116.388104,40.020371;116.388093,40.020388;116.386709,40.021101;116.385519,40.021546;116.384371,40.021719'},
            {'林萃桥': '116.372998,40.021906;116.368267,40.022047;116.364619,40.023;116.363396,40.023641;116.359426,40.026714;116.35786,40.029014;116.354727,40.036958'},
            {'永泰庄': '116.35458,40.037728'},
            {'西小口': '116.351644,40.046873;116.34791,40.056297'},
            {'育新': '116.347328,40.060039;116.346846,40.063652;116.347082,40.0649;116.347768,40.065721;116.349957,40.067002;116.35736,40.070294;116.359506,40.071311'},
            {'霍营': '116.360286,40.071857;116.363111,40.073907;116.363325,40.074153;116.363583,40.074482'},
            {'回龙观东大街站': '116.363025,40.081175'}
        ]},
        {'M10线二期': [
            {'潘家园站': '116.460926,39.875387'},
            {'分钟寺': '116.453976,39.852227'},
            {'成寿寺': '116.455256,39.853316'},
            {'宋家庄': '116.428368,39.845849'},
            {'石榴庄': '116.414103,39.845905'},
            {'大红门站': '116.399087,39.845391'},
            {'角门东': '116.385644,39.845153;116.38441,39.845087;116.378987,39.845458;116.372238,39.845839'},
            {'角门西': '116.371118,39.845877'},
            {'草桥站': '116.35136,39.845884;116.350523,39.845823;116.349204,39.845724;116.346994,39.845246;116.344934,39.844785;116.345577,39.844916;116.343861,39.84462;116.341822,39.844356;116.336136,39.844356'},
            {'纪家庙': '116.333282,39.844472'},
            {'首经贸站': '116.320202,39.844463;116.309218,39.844363;116.307415,39.844989;116.305742,39.847065'},
            {'丰台站': '116.30454,39.849639;116.304087,39.851555;116.304087,39.85508'},
            {'泥洼': '116.304173,39.858609'},
            {'西局': '116.303819,39.86677'},
            {'六里桥': '116.302808,39.880239;116.302493,39.882716;116.302837,39.885087;116.303824,39.887261;116.309403,39.893287;116.309982,39.894258;116.31024,39.894735;116.310304,39.895822'},
            {'莲花桥站': '116.310347,39.897867'},
            {'公主坟站': '116.309919,39.907469;116.309737,39.914195;116.308707,39.915282;116.307076,39.91617;116.299566,39.920054;116.298708,39.920811;116.298257,39.921437;116.298085,39.922671'},
            {'西钓鱼台': '116.298064,39.923481;116.298043,39.924629;116.295468,39.931984'},
            {'慈寿寺': '116.29536,39.933383'},
            {'车道沟': '116.293818,39.947923;116.29389,39.949838;116.294491,39.952503;116.294791,39.95724'},
            {'长春桥': '116.294255,39.958527'},
            {'火器营': '116.289058,39.965938;116.287629,39.968024;116.287565,39.968106;116.287286,39.969438;116.287307,39.97105;116.288048,39.972743;116.288101,39.972776;116.289077,39.973582;116.289786,39.973903;116.290601,39.974133;116.292135,39.974289'},
            {'巴沟': '116.293362,39.974408'}
        ]},
        {'L2线': [
            {'宋家庄': '116.428368,39.845849;116.428408,39.837278;116.428666,39.836685;116.429267,39.836223;116.42931,39.83619;116.438236,39.834675;116.441455,39.834378'},
            {'肖村': '116.448364,39.834217;116.451124,39.834237;116.453691,39.834047;116.45471,39.833866;116.456373,39.833322;116.456974,39.833021;116.457291,39.832778;116.457575,39.832523;116.458042,39.831843;116.458562,39.830752'},
            {'小红门': '116.459226,39.827951;116.460403,39.825102;116.460617,39.824179;116.461089,39.811098;116.460424,39.80956;116.460338,39.808653'},
            {'旧宫': '116.460789,39.80691;116.461424,39.805401;116.461971,39.804602;116.46284,39.803819;116.464171,39.803003;116.465727,39.802401;116.46857,39.801684;116.470855,39.801363;116.473311,39.801404'},
            {'亦庄桥': '116.480307,39.803011;116.482476,39.80358;116.483876,39.804025'},
            {'亦庄文化园': '116.490632,39.80689;116.493108,39.807821;116.494309,39.80806;116.495103,39.808118;116.496498,39.808176;116.49858,39.807895;116.498655,39.807879;116.500597,39.807294;116.501691,39.806742;116.502538,39.806165;116.503644,39.805167'},
            {'万源街': '116.505446,39.802921'},
            {'荣京东街': '116.51339,39.793132'},
            {'荣昌东街': '116.521737,39.782799;116.530737,39.771632;116.532883,39.770676;116.534728,39.770643;116.536273,39.771138'},
            {'同济南路': '116.539835,39.7729'},
            {'经海路': '116.562245,39.783587;116.57203,39.788398;116.577866,39.792157'},
            {'次渠南': '116.581156,39.795224'},
            {'次渠': '116.591406,39.803632'}
        ]},
        {'M9线': [
            {'国家图书馆站': '116.325646,39.93959'},
            {'白石桥南站': '116.32568,39.933022'},
            {'白堆子站': '116.325762,39.923818'},
            {'军事博物馆站': '116.325762,39.923818;116.321118,39.906322'},
            {'北京西站': '116.321187,39.894733;116.321166,39.889811;116.321118,39.88972;116.321064,39.889605;116.320844,39.889461'},
            {'六里桥东': '116.315007,39.886979'},
            {'六里桥': '116.302454,39.880438;116.29842,39.8781;116.296918,39.877013;116.295502,39.87507;116.294987,39.873423;116.294301,39.869339'},
            {'七里庄': '116.294043,39.866934'},
            {'丰台东大街': '116.293442,39.855273;116.294172,39.850397;116.294494,39.84913'},
            {'丰台南路站': '116.296532,39.840578;116.297578,39.834269;116.297417,39.833194'},
            {'科怡路站': '116.297432,39.83248'},
            {'丰台科技园': '116.29749,39.83042;116.297104,39.827223;116.297268,39.823111;116.298169,39.820754;116.299886,39.819205;116.30068,39.818793;116.301323,39.817969;116.301795,39.816815'},
            {'郭公庄': '116.301889,39.814322'}
        ]},
        {'L1线': [
            {'东直门': '116.435842,39.941626;116.436673,39.941606;116.437054,39.941647;116.437349,39.94173;116.438185,39.942046;116.440621,39.94342;116.445932,39.950757;116.451993,39.956244;116.452144,39.956458;116.452411,39.957914;116.453045,39.958588'},
            {'三元桥': '116.456997,39.961508;116.515887,40.013947;116.516552,40.014391;116.517475,40.014818;116.562739,40.030601;116.564166,40.030905;116.56731,40.031134;116.56908,40.031587;116.57791,40.035004;116.592437,40.036721;116.607184,40.036598;116.607817,40.036639;116.608337,40.036721;116.609973,40.037247;116.611065,40.038438;116.61534,40.040964;116.616386,40.041941;116.616842,40.042742;116.616907,40.043118'},
            {'T3航站楼': '116.615579,40.052544'}
        ]},
        
        {'M10线一期（含奥运支线)': [
            {'巴沟站': '116.299578,39.980549;116.310454,39.981603;116.307714,39.980677'},
            {'苏州街站': '116.311768,39.981704'},
            {'海淀黄庄站': '116.324348,39.981865'},
            {'知春里站': '116.336091,39.982061'},
            {'知春路站': '116.347619,39.982065'},
            {'西土城站': '116.360484,39.982026'},
            {'牡丹园站': '116.376446,39.982371'},
            {'健德门站': '116.387816,39.982833'},
            {'北土城站': '116.400663,39.983255'},
            {'安贞门站': '116.411371,39.983322'},
            {'惠新西街南口站': '116.42404,39.983276'},
            {'芍药居站': '116.443571,39.983549;116.445245,39.982854'},
            {'太阳宫站': '116.454059,39.978367;116.463642,39.97163;116.46508,39.968534;116.464936,39.96787'},
            {'三元桥站': '116.463573,39.96688;116.462421,39.962838;116.467451,39.959133'},
            {'亮马桥站': '116.468743,39.955006'},
            {'农业展览馆站': '116.468772,39.946988'},
            {'团结湖站': '116.468337,39.939382'},
            {'呼家楼站': '116.468337,39.939382'},
            {'金台夕照站': '116.468282,39.922961'},
            {'国贸站': '116.467523,39.914435'},
            {'双井站': '116.468453,39.899186'},
            {'劲松站': '116.46801,39.890027'}
        ]},
        {'M5线': [
            {'宋家庄站': '116.428368,39.845849;116.429316,39.85229;116.42884,39.852533;116.428337,39.853391'},
            {'刘家窑站': '116.428565,39.863697'},
            {'蒲黄榆站': '116.428894,39.871689'},
            {'天坛东门站': '116.427392,39.888497;116.427152,39.89106;116.425786,39.893911;116.425499,39.894714'},
            {'磁器口站': '116.426035,39.899339'},
            {'崇文门站': '116.424439,39.906953'},
            {'东单站': '116.425249,39.914504'},
            {'灯市口站': '116.424169,39.923603'},
            {'东四站': '116.423405,39.930647'},
            {'张自忠路站': '116.423579,39.939914'},
            {'北新桥站': '116.423298,39.947111'},
            {'雍和宫站': '116.42311,39.955113;116.422956,39.955898;116.422723,39.956824;116.4231,39.957364;116.425292,39.958114;116.425328,39.958152;116.425301,39.960219;116.425395,39.960419'},
            {'和平里北街站': '116.425051,39.964752'},
            {'和平西桥站': '116.424463,39.974502'},
            {'惠新西街南口站': '116.42404,39.983276'},
            {'惠新西街北口站': '116.423532,39.994151;116.424156,40.00767'},
            {'大屯路东站': '116.424567,40.009611;116.422669,40.017888;116.423998,40.025181;116.42407,40.031186'},
            {'北苑路北站': '116.424525,40.036821;116.424383,40.038966;116.423808,40.041452;116.422227,40.043827'},
            {'立水桥南站': '116.420973,40.048143;116.418225,40.052256;116.41765,40.053637;116.417794,40.057668'},
            {'立水桥站': '116.418274,40.059244;116.419626,40.060333;116.419986,40.061106'},
            {'天通苑南站': '116.419113,40.072752;116.418602,40.078595'},
            {'天通苑站': '116.419233,40.081478;116.419608,40.083784;116.419608,40.085937'},
            {'天通苑北站': '116.419385,40.089597'}
        ]}
    ];

var zjLine = 
    [
        {'燕房线支线': [
            {'周口店': '115.95861,39.676448;115.964485,39.676885;115.973282,39.679082'},
            {'顾册': '115.977557,39.681964;115.980557,39.683871'},
            {'老城区': '115.987921,39.693209;115.991328,39.696882'},
            {'饶乐府': '116.006085,39.701481'}
        ]},
        {'新机场线一期': [
            {'草桥站': '116.346544,39.844891;116.346437,39.84354;116.34633,39.827887;116.345343,39.816482;116.345922,39.814752;116.35061,39.811802;116.356672,39.800576;116.361822,39.750244'},
            {'磁各庄站': '116.365637,39.73818'},
            {'新机场北航站楼站': '116.417934,39.514572'}
        ]},
        {'16号线': [
            {'西苑': '116.292077,39.999631;116.294682,39.997517;116.295283,39.996531;116.295883,39.993868;116.294167,39.99012;116.293351,39.989002;116.292922,39.987621;116.292947,39.987004;116.293419,39.98642;116.297185,39.985771'},
            {'万泉河桥': '116.300929,39.985629;116.30459,39.985464;116.304699,39.98549;116.305096,39.985395;116.305428,39.984803'},
            {'苏州街': '116.306292,39.975678'},
            {'万寿寺': '116.309864,39.94795;116.310255,39.945002;116.31268,39.943505;116.315083,39.943225'},
            {'国家图书馆': '116.32519,39.943114;116.328099,39.942842;116.330889,39.941361;116.333077,39.937972'},
            {'二里沟': '116.333721,39.931855'},
            {'甘家口': '116.33464,39.92302'},
            {'玉渊潭东门': '116.33455,39.915044;116.334545,39.912259;116.334781,39.911239;116.335425,39.909708;116.335597,39.903964;116.334803,39.902071;116.33462,39.901396'},
            {'达官营': '116.334803,39.890736;116.334939,39.888114;116.336569,39.882944'},
            {'红莲南里': '116.336977,39.877629;116.336988,39.876324;116.336011,39.868823'},
            {'丽泽商务区': '116.336018,39.866916;116.336097,39.858035;116.335067,39.856388;116.330904,39.854543'},
            {'丰益桥南': '116.320261,39.852998'},
            {'丰台站': '116.30454,39.849639;116.299965,39.848437;116.29798,39.847602;116.297202,39.846988;116.296853,39.846507;116.296091,39.844793;116.296059,39.843838'},
            {'丰台南路': '116.296784,39.840719;116.297083,39.83927;116.297105,39.83871;116.296869,39.838051;116.296311,39.837556;116.293414,39.836897'},
            {'富丰桥': '116.285775,39.83616'},
            {'看丹站': '116.27275,39.83495;116.268194,39.834388;116.26607,39.834446;116.260722,39.835224;116.259869,39.835463;116.259273,39.835731;116.258903,39.836011;116.258694,39.836357;116.258522,39.837135'},
            {'榆树庄': '116.258841,39.839114;116.259237,39.841133;116.258936,39.841874;116.258293,39.842525;116.237039,39.849703;116.235011,39.849843;116.233112,39.849538'},
            {'宛平城': '116.230033,39.84841'}
        ]},
        {'8号线三期': [
            {'中国美术馆': '116.410818,39.925294'},
            {'王府井': '116.411188,39.908183;116.411483,39.903734;116.410196,39.901101;116.403244,39.900211'},
            {'前门站': '116.399344,39.899261;116.398222,39.898337'},
            {'珠市口': '116.398668,39.890799'},
            {'永定门外': '116.399671,39.866177'},
            {'和义站': '116.402203,39.814451;116.402632,39.806457;116.402932,39.805995;116.404413,39.805204'},
            {'东高地': '116.408361,39.805468;116.416,39.805155;116.418146,39.80255;116.421064,39.787019'},
            {'五福堂': '116.422781,39.785684'}
        ]},
        {'S1线': [
            {'金安桥': '116.163104,39.923642;116.168909,39.923504;116.17275,39.923997'},
            {'苹果园': '116.177872,39.925074'}
        ]},
        {'14号线': [
            {'西局': '116.303736,39.866915'},
            {'莱户营': '116.34448,39.86813;116.347253,39.868076;116.348025,39.86768;116.348959,39.866346;116.350938,39.861387;116.351421,39.861074'},
            {'西铁营': '116.354311,39.861151;116.357606,39.861192;116.358904,39.861381;116.362766,39.862452'},
            {'景风门': '116.365797,39.862736;116.374729,39.862938;116.376853,39.863613;116.381798,39.866736;116.386574,39.868669'},
            {'陶然桥': '116.387131,39.868834;116.391401,39.868307;116.393054,39.868274;116.397045,39.868719;116.397603,39.868669;116.398311,39.868472'}
        ]},
        {'8号线四期': [
            {'五福堂': '116.422781,39.785684'},
            {'德茂站': '116.44059,39.772539;116.443154,39.770725;116.443722,39.770412;116.444967,39.769785;116.445777,39.769109;116.445933,39.768915'},
            {'瀛海站': '116.448741,39.761053'}
        ]},
        {'平谷线': [
            {'徐辛庄': '116.677968,39.98636;116.677748,39.984313;116.676139,39.983277;116.674358,39.982949;116.670581,39.984593;116.667105,39.988259;116.667062,39.988292;116.659616,39.992254;116.64429,39.992879'},
            {'曹各庄北': '116.60098,39.992222;116.576125,39.991214;116.569194,39.990359'},
            {'北岗子': '116.537207,39.975912'},
            {'东风桥北': '116.485902,39.958381'}
        ]},
        {'昌平线南延': [
            {'西二旗': '116.306295,40.053034'},
            {'清河站': '116.315301,40.041148;116.319041,40.037491;116.324577,40.035552;116.33449,40.036209;116.339769,40.038098;116.340391,40.038115;116.341357,40.037729'},
            {'上清桥站': '116.343524,40.034952;116.351453,40.024642'},
            {'学清路站': '116.352106,40.015273'},
            {'六道口': '116.35267,40.000958'},
            {'西土城': '116.354098,39.976549'},
            {'蓟门桥': '116.354029,39.967758'}
        ]},
        {'7号线东延': [
            {'焦化厂': '116.537247,39.855488;116.549564,39.849159'},
            {'黄厂村站': '116.552224,39.849141;116.557138,39.849537;116.56143,39.851086;116.563061,39.852618;116.564563,39.854776;116.566944,39.855797'},
            {'豆各庄站': '116.571115,39.856487;116.616314,39.859652;116.618653,39.85999;116.623111,39.861464;116.624962,39.862378;116.627885,39.863325'},
            {'万盛南街西口': '116.630595,39.863481'},
            {'云景东路': '116.657411,39.863485'},
            {'小马庄站': '116.669683,39.863444'},
            {'高楼金站': '116.685227,39.863091;116.69411,39.862264;116.695698,39.861308;116.69617,39.860287;116.696127,39.858838;116.695098,39.855972;116.691879,39.851293;116.690549,39.850272;116.688016,39.849251;116.685141,39.848855'},
            {'环球影城': '116.675957,39.848394'}
        ]},
        {'3号线一期(东四十条~东坝中街)': [
            {'东四十条': '116.434133,39.933801'},
            {'工人体育馆': '116.450349,39.933716'},
            {'团结湖': '116.461786,39.933757'},
            {'朝阳公园': '116.479299,39.933747;116.492149,39.933729;116.493469,39.933853;116.494982,39.934149'},
            {'石佛营': '116.498303,39.935082;116.502611,39.936274;116.503571,39.936603;116.504402,39.937031;116.504837,39.937373;116.506897,39.939984;116.508329,39.942448;116.508581,39.943472'},
            {'星火': '116.508624,39.947104;116.508666,39.947923;116.508725,39.94817;116.509096,39.948556;116.509546,39.948733;116.509965,39.948807;116.51027,39.94882;116.519862,39.948865'},
            {'体育中心': '116.530104,39.948916;116.535505,39.948916;116.537463,39.948838;116.539598,39.948718;116.540435,39.948599;116.543209,39.947822;116.54389,39.947707;116.54515,39.947645;116.54515,39.947645;116.546531,39.947958;116.547057,39.949122;116.547083,39.959181'},
            {'东坝中街': '116.547126,39.965732'}
        ]},
        {'12号线': [
            {'四季青': '116.27556,39.95026;116.275833,39.955006;116.275924,39.955425;116.276107,39.955865;116.276498,39.956276;116.276954,39.956515;116.276954,39.956515'},
            {'远大路': '116.28267,39.957155;116.288882,39.957344'},
            {'长春桥': '116.293324,39.9582;116.301559,39.959643;116.303264,39.960091'},
            {'苏州桥': '116.30724,39.961884'},
            {'人民大学': '116.321169,39.967154'},
            {'大钟寺': '116.343646,39.967637'},
            {'北太平庄': '116.370138,39.967873'},
            {'人民大学': '116.322106,39.967049'},
            {'光熙门': '116.43124,39.96957;116.434952,39.96957;116.436561,39.969257;116.437463,39.968887'},
            {'西坝河': '116.441518,39.96633;116.452955,39.958797;116.455197,39.958608;116.456581,39.959233'},
            {'三元桥': '116.458148,39.960689;116.462772,39.964632;116.464199,39.965166;116.472278,39.966704;116.474617,39.967822;116.488296,39.980085;116.488607,39.980229'},
            {'高家园': '116.489889,39.980291'},
            {'酒仙桥': '116.504196,39.980455;116.510147,39.980415'},
            {'北岗子': '116.537208,39.975898;116.540446,39.975555;116.547753,39.975296;116.550601,39.975305;116.551299,39.975358;116.55235,39.975523'},
            {'东风': '116.553267,39.975773'}
        ]},
        {'19号线一期': [
            {'新宫': '116.372097,39.818302;116.349317,39.813249;116.34686,39.814584;116.345916,39.816018;116.345594,39.816628;116.345358,39.817551'},
            {'新发地站': '116.345261,39.822462'},
            {'草桥站': '116.348097,39.845928;116.349429,39.849314;116.351489,39.851027;116.362432,39.854355;116.364492,39.856562'},
            {'右安门外站': '116.364578,39.86322;116.363162,39.913177;116.364449,39.916568;116.364685,39.92264;116.364835,39.923825;116.367142,39.928449;116.367378,39.929124'},
            {'平安里站': '116.372883,39.933949;116.368663,39.940588;116.369349,39.941723;116.371216,39.942727;116.371892,39.943525'},
            {'积水潭站': '116.371924,39.948551'},
            {'北太平庄': '116.370131,39.967898'},
            {'牡丹园': '116.369844,39.976603'}
        ]},
        {'17号线': [
            {'未来科技城北区': '116.469014,40.12782;116.467732,40.113095;116.467217,40.109157;116.452625,40.090774;116.451252,40.085652;116.442154,40.078165'},
            {'天通苑东站': '116.442154,40.06858;116.441382,40.021925;116.45151,40.017126;116.454857,40.013511;116.449965,39.999902'},
            {'望京西': '116.44733,39.995181;116.443833,39.989247;116.443747,39.987767;116.444348,39.986978;116.447781,39.985433;116.451257,39.983328;116.454702,39.980998;116.454723,39.980628;116.454691,39.980587;116.454573,39.980332'},
            {'太阳宫': '116.447469,39.972678'},
            {'西坝河站': '116.441541,39.966297;116.437267,39.962776;116.435701,39.960819;116.434499,39.957299;116.434478,39.954601;116.4351,39.951229;116.437095,39.949453;116.445249,39.949683;116.445904,39.949815;116.446708,39.949749;116.447663,39.949453'},
            {'香河园站': '116.450312,39.947594'},
            {'工人体育场': '116.45035,39.933765'},
            {'东大桥': '116.45035,39.922856'},
            {'永安里': '116.450325,39.908442'},
            {'广渠门外': '116.450355,39.893666'},
            {'潘家园西站': '116.450872,39.876233'},
            {'十八里店': '116.478577,39.842212'},
            {'朝阳港': '116.508226,39.832392'},
            {'北神树': '116.542746,39.825739'},
            {'次渠北': '116.575825,39.810534;116.591521,39.803537'},
            {'亦庄站前区南': '116.609389,39.794417'}
        ]},
        {'房山线北延': [
            {'郭公庄': '116.301889,39.814322;116.301852,39.816893;116.302067,39.818129;116.303376,39.819315;116.304384,39.819596'},
            {'樊羊路站': '116.314319,39.81955;116.317627,39.819443;116.319472,39.820349;116.32003,39.821453;116.32003,39.825854'},
            {'四环路站': '116.320472,39.829174'},
            {'首经贸': '116.320202,39.844463;116.320759,39.848089;116.321081,39.848913'},
            {'丰益桥南': '116.320261,39.852998'}
        ]},
        {'八通线南延': [
            {'土桥': '116.686349,39.871926;116.692507,39.870102;116.693795,39.86951;116.694868,39.868126;116.698794,39.860122;116.698644,39.85943;116.691821,39.849242;116.691274,39.848854;116.690405,39.848484'},
            {'环球影城': '116.676393,39.848179'}
        ]}
    ];

var yyLine = 
    [
        {'M16线': [
            {'西苑': '116.291938,39.999701;116.289814,40.001262;116.28947,40.00164;116.289277,40.002002;116.288784,40.004024;116.28696,40.015134;116.286016,40.017172;116.283913,40.019604'},
            {'农大南路': '116.281939,40.021477'},
            {'马连洼': '116.27224,40.032716;116.270903,40.034664;116.267362,40.038118;116.260128,40.043628;116.259039,40.044732;116.25876,40.045139;116.258503,40.0458;116.258111,40.047443'},
            {'西北旺': '116.257915,40.048715;116.257741,40.049919;116.257505,40.050465;116.256775,40.051434;116.252221,40.056255;116.251572,40.057298;116.249957,40.061769;116.24934,40.063366'},
            {'永丰南': '116.24815,40.065579;116.24506,40.071072;116.2444,40.071724;116.243761,40.072094;116.243193,40.072303;116.242715,40.072406;116.242238,40.072467;116.241412,40.072484;116.240671,40.072422;116.23977,40.07225'},
            {'永丰': '116.238461,40.071876;116.231536,40.06982;116.224352,40.069039;116.218301,40.068423'},
            {'屯佃': '116.215839,40.06846'},
            {'稻香湖路': '116.188142,40.068941'},
            {'温阳路': '116.161357,40.068526'},
            {'北安河': '116.130418,40.068133'}
        ]},
        {'14号线西段': [
            {'张郭庄': '116.187193,39.8581;116.19097,39.86027;116.193029,39.860962'},
            {'园博园': '116.20157,39.861358;116.205904,39.861423;116.206848,39.861654;116.220658,39.867534;116.221989,39.867781;116.223083,39.867847;116.226619,39.866627;116.227692,39.865342;116.232542,39.858293;116.233304,39.857889;116.234505,39.857869'},
            {'大瓦窑': '116.240408,39.859529;116.242346,39.859817'},
            {'郭庄子': '116.252946,39.864922;116.259426,39.866866;116.261357,39.866833;116.267837,39.865384'},
            {'大井': '116.275948,39.865285'},
            {'七里庄': '116.293673,39.866059'}
        ]},
        {'14号线东段': [
            {'北京南站': '116.378961,39.865044;116.382721,39.867181;116.385811,39.868498;116.386541,39.868663;116.387699,39.868745;116.391347,39.868301;116.393107,39.868301;116.398493,39.868399'},
            {'永定门外': '116.399287,39.86751;116.400595,39.866176;116.40169,39.865567;116.406775,39.865072'},
            {'景泰': '116.41096,39.86532'},
            {'蒲黄榆': '116.423724,39.865646'},
            {'方庄': '116.440231,39.865877;116.448905,39.865684;116.45118,39.865256;116.453755,39.86407;116.455514,39.863905;116.456759,39.865552'},
            {'十里河': '116.457875,39.86654;116.458969,39.867154;116.461415,39.867928;116.474199,39.867876;116.476087,39.868139;116.477203,39.869193;116.477289,39.869621'},
            {'北工大西门': '116.477186,39.875569'},
            {'平乐园': '116.477154,39.88534'},
            {'红庙': '116.477991,39.915661'},
            {'金台路': '116.477927,39.922968'},
            {'朝阳公园': '116.478104,39.933754;116.478286,39.934835;116.478114,39.935921;116.475088,39.942091'},
            {'枣营': '116.474828,39.944193;116.475086,39.947812;116.475129,39.947845;116.476545,39.950016;116.486351,39.957204;116.486544,39.957476;116.48648,39.957648'},
            {'东风桥北': '116.485879,39.958395;116.485375,39.959143;116.485321,39.959596;116.489269,39.968386;116.489495,39.969876'},
            {'将台': '116.489453,39.971145;116.489646,39.976818;116.489151,39.97988'},
            {'高家园站': '116.488536,39.980579'},
            {'望京南': '116.481576,39.98468'},
            {'阜通': '116.471703,39.991704;116.468475,39.993894;116.467917,39.994782'},
            {'望京': '116.467886,39.9989'},
            {'东湖渠': '116.467412,40.01067'},
            {'来广营': '116.466808,40.020711;116.466994,40.022325;116.467402,40.023081;116.468174,40.023492;116.477476,40.026557'},
            {'善各庄': '116.478163,40.027181'}
        ]},
        {'M6线二期': [
            {'物资学院站': '116.639316,39.926801;116.645753,39.926674;116.653081,39.927143;116.653982,39.927143;116.654411,39.927061;116.656954,39.92632;116.65741,39.926217;116.657416,39.926209;116.659025,39.925526;116.660522,39.924232;116.660607,39.924088;116.660656,39.923607;116.66094,39.921891;116.661112,39.919274'},
            {'通州北关站': '116.661131,39.917962;116.661142,39.916613;116.662376,39.915774;116.667011,39.914931;116.66759,39.914733;116.66759,39.914733'},
            {'通运门站': '116.673284,39.910583;116.683651,39.904586;116.686784,39.903566'},
            {'北运河西站': '116.688358,39.903024;116.69192,39.90167;116.695267,39.901605'},
            {'北运河东站': '116.707564,39.903079'},
            {'郝家府站': '116.717826,39.903195'},
            {'东夏园站': '116.73385,39.903147;116.744643,39.903077'},
            {'潞城站': '116.74739,39.902674'}
        ]},
        {'6号线西延': [
            {'五路居': '116.276531,39.932584;116.274591,39.932571;116.274242,39.932509;116.273936,39.93239;116.273566,39.932049;116.272504,39.929885;116.272102,39.929379;116.271657,39.929148;116.271142,39.928939;116.270546,39.928861'},
            {'田村': '116.252779,39.929617;116.239202,39.929564;116.237394,39.929885;116.236884,39.930033;116.236246,39.930317;116.233183,39.932312;116.232888,39.932448;116.232003,39.932624;116.230495,39.93269;116.229111,39.932608;116.227792,39.932394'},
            {'廖公庄站': '116.226907,39.932402;116.225664,39.932449;116.223583,39.932976;116.202715,39.933839;116.202039,39.933683;116.20176,39.933486;116.201642,39.933362;116.19999,39.931898;116.197308,39.930483;116.196943,39.930532'},
            {'杨庄': '116.186461,39.927924'},
            {'苹果园': '116.178296,39.925843;116.176558,39.925398;116.175689,39.92502;116.174069,39.924362;116.172427,39.924049;116.170228,39.92395'},
            {'金安桥': '116.161862,39.923954'}
        ]},
        {'M6线一期': [
            {'五路居': '116.276531,39.932584'},
            {'慈寿寺': '116.293767,39.932683'},
            {'花园桥': '116.310685,39.932349'},
            {'白石桥南': '116.324751,39.932451'},
            {'车公庄西': '116.34406,39.932471'},
            {'车公庄': '116.354365,39.932409;116.367695,39.932426'},
            {'平安里': '116.371252,39.932673'},
            {'北海北': '116.386829,39.933247;116.396945,39.933327'},
            {'南锣鼓巷': '116.402961,39.933143;116.404182,39.933105;116.405298,39.932809;116.405609,39.932537;116.405662,39.932455;116.405802,39.932035;116.405931,39.931221;116.406156,39.925609;116.406392,39.925231;116.406719,39.924951;116.407175,39.924684;116.407615,39.924482;116.407679,39.924466;116.408114,39.924396;116.412847,39.924368'},
            {'东四': '116.416186,39.924371'},
            {'朝阳门': '116.433126,39.924437;116.435741,39.92447;116.438359,39.924371;116.444817,39.923379;116.445515,39.923285;116.450557,39.922828;116.450761,39.922836'},
            {'东大桥': '116.451657,39.923054;116.45332,39.923388;116.453121,39.923375'},
            {'呼家楼': '116.461609,39.923335;116.472099,39.923055'},
            {'金台路': '116.478406,39.922903'},
            {'十里堡': '116.502039,39.92308'},
            {'青年路': '116.51743,39.923172'},
            {'褡裢坡': '116.563956,39.924028;116.575191,39.924049'},
            {'黄渠': '116.578248,39.924209;116.58873,39.925133'},
            {'常营': '116.599711,39.925706;116.605914,39.925923;116.606864,39.925779;116.607642,39.92552;116.610395,39.924132;116.611269,39.923923;116.611795,39.923869;116.612347,39.923861;116.613721,39.92403'},
            {'草房': '116.615559,39.924492;116.624144,39.926152;116.627582,39.926732;116.629288,39.926938;116.630431,39.92695;116.632045,39.926736'},
            {'物资学院站': '116.639316,39.926801'}
        ]},
        {'房山线': [
            {'郭公庄': '116.301889,39.814322;116.301767,39.811068;116.301166,39.809914;116.300265,39.809486;116.292926,39.808167'},
            {'大葆台': '116.291681,39.80781;116.275843,39.801628;116.245803,39.797342;116.228293,39.796287'},
            {'稻田': '116.21884,39.794885;116.216191,39.794226'},
            {'长阳': '116.212692,39.763871;116.194099,39.76376;116.193466,39.763719;116.192554,39.763513;116.192608,39.763546;116.191073,39.762795;116.189668,39.761154'},
            {'篱笆房': '116.189453,39.760651;116.185473,39.75218'},
            {'广阳城': '116.184969,39.747932'},
            {'良乡大学城北站': '116.183386,39.730021;116.183478,39.726432;116.183166,39.725466;116.183166,39.725448;116.182635,39.724731;116.182082,39.724227;116.180779,39.723563;116.179979,39.723328;116.179132,39.723183'},
            {'良乡大学城站': '116.17652,39.723189'},
            {'良乡大学城西': '116.156282,39.723157;116.153689,39.72319;116.152128,39.723235'},
            {'良乡南关': '116.140804,39.723202'},
            {'苏庄': '116.125306,39.723188'}
        ]},
        {'S1线': [
            {'金安桥': '116.161862,39.923954;116.151696,39.923787;116.151058,39.923671;116.150205,39.923252;116.148316,39.9213;116.147893,39.921;116.146727,39.920531;116.139879,39.919304;116.139021,39.919016'},
            {'四道桥': '116.133999,39.916044;116.130898,39.914099;116.128838,39.912881;116.128151,39.912617;116.126993,39.91242'},
            {'桥户营': '116.125791,39.912403;116.123248,39.912115;116.123248,39.912124;116.122776,39.911976;116.122271,39.911729;116.121692,39.911136;116.121467,39.910338;116.12151,39.91014'},
            {'上岸': '116.122175,39.905161;116.122768,39.901299'},
            {'栗园庄': '116.12313,39.895899;116.123373,39.892788;116.123266,39.891998;116.123072,39.891471;116.121978,39.890582;116.121313,39.890368;116.117086,39.890318'},
            {'小园': '116.114439,39.890481;116.112384,39.890505;116.111418,39.890435;116.11041,39.890386;116.105222,39.891225;116.103908,39.891279;116.103667,39.89125;116.102256,39.890756;116.101384,39.890159'},
            {'石厂': '116.100325,39.88939'}
        ]},
        {'M7线一期': [
            {'北京西': '116.321214,39.894704;116.3213,39.893153;116.321493,39.892844;116.323585,39.890469;116.32417,39.890037;116.32447,39.889946;116.324738,39.889905'},
            {'湾子': '116.327753,39.889954'},
            {'达官营': '116.336455,39.889884'},
            {'广安门内': '116.358215,39.889422'},
            {'菜市口': '116.374425,39.889297;116.391666,39.889905;116.393426,39.89014'},
            {'珠市口': '116.398104,39.891267;116.402165,39.892153;116.404241,39.892523;116.404949,39.892585'},
            {'桥湾': '116.408441,39.892729'},
            {'磁器口': '116.41887,39.893093'},
            {'广渠门内': '116.433865,39.893685'},
            {'广渠门外': '116.448986,39.893651'},
            {'双井': '116.461827,39.893528'},
            {'九龙山': '116.478682,39.893235'},
            {'大郊亭': '116.487925,39.893194;116.490401,39.893145;116.49172,39.893021;116.493072,39.892774;116.494392,39.892618;116.496216,39.892519'},
            {'百子湾': '116.497757,39.892541;116.502567,39.892461;116.502921,39.892407;116.503168,39.892271;116.503189,39.892255;116.503372,39.892069;116.503431,39.891946;116.503431,39.891699'},
            {'化工': '116.503439,39.887369;116.503292,39.879118;116.502895,39.878088'},
            {'南楼梓庄': '116.501077,39.87459;116.500107,39.872394'},
            {'欢乐谷景区': '116.500059,39.866515;116.500059,39.861592;116.500112,39.861303;116.500112,39.861303;116.500112,39.861303;116.501786,39.860892'},
            {'垡头': '116.511829,39.860864;116.517381,39.860876;116.523636,39.860777;116.524108,39.860691;116.525465,39.860263'},
            {'双合': '116.526824,39.859702'},
            {'焦化厂': '116.537247,39.855488'}
        ]},
        {'M15线一期': [
            {'望京西': '116.449884,39.995724;116.453132,39.99659;116.454247,39.996754;116.46695,39.997017;116.46798,39.997214'},
            {'望京': '116.469346,39.998545;116.472958,40.001636;116.473709,40.001833;116.48034,40.002047;116.481992,40.001866;116.484996,40.001883;116.485597,40.001998'},
            {'望京东': '116.487035,40.003329;116.489717,40.005709;116.490919,40.008734;116.492034,40.015636'},
            {'崔各庄': '116.492378,40.022341;116.492936,40.032199;116.493214,40.032742;116.493708,40.033037;116.494545,40.0333'},
            {'马泉营': '116.503278,40.033974;116.525208,40.03473;116.526066,40.03496;116.528341,40.03588;116.530658,40.037588;116.532976,40.041564'},
            {'孙河': '116.534392,40.045243;116.539756,40.05408;116.541087,40.055427;116.544091,40.057332;116.553146,40.063901;116.554262,40.065675'},
            {'国展': '116.554948,40.070273'},
            {'花梨坎': '116.554948,40.070273'},
            {'国展': '116.554948,40.070273'},
            {'国展': '116.557437,40.084525;116.561514,40.108292'},
            {'后沙峪': '116.563875,40.114299;116.568165,40.119352;116.57752,40.126571;116.580567,40.12772;116.582112,40.127916'},
            {'南法信': '116.609535,40.128478;116.616923,40.12876;116.631053,40.128965'},
            {'石门': '116.641117,40.129842;116.642307,40.129892;116.649238,40.129892'},
            {'顺义': '116.656952,40.130039;116.662306,40.129859;116.665213,40.12976;116.666533,40.129654;116.668636,40.129408;116.670202,40.129342;116.6709,40.129424;116.671951,40.129629;116.673357,40.130121;116.674027,40.130445;116.676999,40.132164;116.677847,40.132459;116.67915,40.132619;116.68187,40.132586'},
            {'俸伯': '116.684665,40.132681'}
        ]},
        {'大兴线': [
            {'公益西桥': '116.370788,39.83615;116.370752,39.833672;116.370645,39.83303;116.364915,39.818678;116.364851,39.818163;116.36514,39.815289'},
            {'新宫': '116.365541,39.812599;116.366398,39.807292;116.366253,39.806641;116.365706,39.806064;116.365272,39.805813;116.361087,39.804869;116.355444,39.804474;116.346091,39.804596;116.341401,39.804874;116.339208,39.804509;116.329552,39.798637;116.328457,39.797442;116.328135,39.796432;116.328098,39.795877'},
            {'西红门': '116.32867,39.789801'},
            {'高米店北': '116.330777,39.773557'},
            {'高米店南': '116.331592,39.7635;116.332159,39.758843'},
            {'枣园': '116.332196,39.753461'},
            {'清源路': '116.332509,39.742717'},
            {'黄村西大街': '116.332607,39.731775'},
            {'黄村火车站': '116.332596,39.722982;116.332549,39.71964;116.332474,39.719301;116.332335,39.718971;116.331935,39.718472;116.331377,39.718125;116.319624,39.715835;116.31912,39.715538;116.318749,39.715006;116.318556,39.714432'},
            {'义和庄': '116.319065,39.712403;116.321194,39.707673;116.32217,39.700972;116.321902,39.689091'},
            {'生物医药基地': '116.321666,39.686518;116.321746,39.684551;116.321768,39.684146;116.321167,39.682169;116.320142,39.679123;116.319971,39.677695'},
            {'天宫院': '116.319922,39.670348'}
        ]},
        {'M15线二期': [
            {'清华东路西口': '116.339468,40.000739'},
            {'六道口': '116.352664,40.000974'},
            {'北沙滩': '116.368133,40.001525'},
            {'安立路': '116.407846,40.002623;116.409777,40.002664;116.413639,40.003123'},
            {'大屯路东': '116.418822,40.003136;116.421506,40.003115;116.422527,40.003057;116.426272,40.002199;116.42831,40.001426;116.429217,40.001171'},
            {'关庄': '116.430939,40.001142;116.431852,40.001123;116.432774,40.001025;116.433788,40.000696;116.44294,39.99553;116.444308,39.995197;116.448691,39.995403'},
            {'望京西': '116.449884,39.995724'}
        ]},
        {'8号线': [
            {'中国美术馆': '116.410788,39.92372;116.410756,39.926048;116.410676,39.926345;116.410343,39.926921;116.409957,39.927365;116.409614,39.927891;116.409002,39.929677;116.408841,39.932877;116.40809,39.933436;116.407146,39.933815;116.406846,39.933815'},
            {'南锣鼓巷': '116.404153,39.933872;116.399282,39.933741;116.39808,39.933864;116.396664,39.934308;116.396675,39.934308;116.396503,39.934481;116.396406,39.934621'},
            {'什刹海': '116.39617,39.937681;116.396219,39.938134;116.395876,39.939261;116.394309,39.941153;116.394111,39.941589;116.3938,39.951834;116.395044,39.954531;116.395044,39.954531'},
            {'鼓楼大街': '116.393851,39.947611;116.394399,39.953401;116.395085,39.954767'},
            {'安德里北街': '116.395145,39.957227'},
            {'安华桥': '116.394655,39.968507'},
            {'北土城': '116.394193,39.976953'},
            {'奥林匹克公园': '116.39296,40.000921;116.393058,40.005149'},
            {'森林公园南门': '116.3926,40.010122;116.391924,40.015296;116.390679,40.017893;116.388104,40.020371;116.388093,40.020388;116.386709,40.021201;116.385519,40.021546;116.384371,40.021719'},
            {'林萃桥': '116.372998,40.021906;116.368267,40.022047;116.364619,40.023;116.363396,40.023641;116.359426,40.026714;116.35786,40.029014;116.354727,40.036958'},
            {'永泰庄': '116.35458,40.037728'},
            {'西小口': '116.351644,40.046873;116.34791,40.056297'},
            {'育新': '116.347328,40.060039;116.346846,40.063652;116.347082,40.0649;116.347768,40.065721;116.349957,40.067002;116.35736,40.070294;116.359506,40.071312'},
            {'霍营': '116.360286,40.071857;116.363111,40.073907;116.363325,40.074153;116.363583,40.074482'},
            {'回龙观东大街站': '116.363025,40.081175;116.362112,40.090154;116.361774,40.090704;116.361516,40.090905;116.360572,40.091361;116.359414,40.091422'},
            {'平西府': '116.350407,40.090614'},
            {'育知路': '116.326991,40.087872;116.323972,40.087607;116.322953,40.087755;116.322545,40.087911;116.322052,40.088296;116.315425,40.098933'},
            {'朱辛庄': '116.313683,40.104311'}
        ]},
        {'M4线': [
            {'公益西桥': '116.370788,39.83615'},
            {'角门西': '116.371131,39.845866'},
            {'马家堡': '116.371351,39.853115;116.371528,39.855936;116.37163,39.856406;116.371946,39.857287;116.372322,39.857826;116.376366,39.860581;116.378281,39.861973;116.37877,39.862521;116.378957,39.862928;116.379016,39.863241'},
            {'北京南站': '116.378968,39.865041;116.378956,39.866195;116.378854,39.866804;116.378457,39.867949;116.377964,39.868945;116.376719,39.87067;116.375453,39.872062;116.375029,39.872828;116.374563,39.87382;116.374375,39.874742'},
            {'陶然亭站': '116.374387,39.878491'},
            {'菜市口站': '116.374418,39.889302'},
            {'宣武门站': '116.374284,39.899801'},
            {'西单站': '116.374053,39.907397'},
            {'灵境胡同站': '116.37371,39.915931'},
            {'西四站': '116.373323,39.924213'},
            {'平安里站': '116.372881,39.933955;116.372699,39.940341;116.372618,39.940526;116.372473,39.9406;116.372259,39.940641'},
            {'新街口站': '116.367734,39.940674'},
            {'西直门站': '116.355407,39.940485;116.354066,39.940427;116.348497,39.939605;116.347923,39.939444;116.345477,39.938696;116.344421,39.938552'},
            {'动物园站': '116.339013,39.938256;116.334274,39.938144;116.326753,39.938716;116.326244,39.938864;116.325986,39.939057;116.32575,39.939365;116.325686,39.939555;116.325482,39.941109'},
            {'国家图书馆站': '116.325182,39.943121'},
            {'魏公村站': '116.323209,39.957907;116.32245,39.963253;116.322268,39.964158;116.321919,39.965408;116.32164,39.966304'},
            {'人民大学站': '116.321363,39.966964'},
            {'海淀黄庄站': '116.317547,39.976012;116.316984,39.977894;116.316721,39.980764'},
            {'中关村站': '116.316463,39.984007'},
            {'北京大学东门站': '116.31582,39.992221;116.315164,39.998034;116.315046,39.999419;116.314981,39.999662;116.314863,39.999785;116.314563,39.999826;116.312465,39.999863;116.311784,39.999929;116.311178,39.999916'},
            {'圆明园站': '116.311178,39.999916;116.308909,39.9993;116.308592,39.999132;116.307391,39.997936;116.30708,39.997751;116.306784,39.997664;116.299167,39.997217;116.295203,39.996896;116.294886,39.996892;116.294784,39.9969'},
            {'西苑站': '116.290896,39.998265;116.287322,39.999639;116.283948,40.000971;116.282655,40.00162;116.282312,40.001731'},
            {'北宫门站': '116.277643,40.002381;116.275719,40.002619;116.275585,40.002647;116.27514,40.002746;116.274828,40.002943;116.272726,40.005906;116.270419,40.008478;116.270269,40.008737;116.270027,40.009875'},
            {'安河桥北站': '116.269952,40.012204'}
        ]},
        {'M10线一期(含奥运支线)': [
            {'巴沟': '116.293362,39.974408;116.302186,39.974993;116.30238,39.974993;116.303731,39.975424;116.304885,39.975589'},
            {'苏州街': '116.306332,39.975642'},
            {'海淀黄庄': '116.324348,39.981865'},
            {'知春里': '116.336091,39.982061'},
            {'知春路': '116.347619,39.982065'},
            {'西土城': '116.360484,39.982026'},
            {'牡丹园': '116.376446,39.982371'},
            {'健德门': '116.387816,39.982833'},
            {'北土城': '116.400663,39.983255'},
            {'安贞门': '116.412371,39.983322'},
            {'惠新西街南口': '116.42404,39.983276'},
            {'芍药居': '116.443571,39.983549;116.438641,39.976991;116.440975,39.976769;116.440975,39.976769;116.443144,39.975953'},
            {'太阳宫': '116.454059,39.978367;116.457376,39.965641;116.4578,39.965226;116.458025,39.964876;116.458368,39.963885;116.458529,39.963067;116.458583,39.962335;116.458385,39.961871;116.457843,39.961303'},
            {'三元桥': '116.457102,39.960785;116.456362,39.95997;116.45603,39.959065;116.455938,39.958564;116.455954,39.958473;116.456094,39.957248;116.456555,39.956442;116.46082,39.953448;116.461437,39.952507;116.461727,39.95168'},
            {'亮马桥': '116.468743,39.955006'},
            {'农业展览馆': '116.468772,39.946988'},
            {'团结湖': '116.468337,39.939382'},
            {'呼家楼': '116.468237,39.928981'},
            {'金台夕照': '116.468282,39.922961'},
            {'国贸': '116.467523,39.914435'},
            {'双井': '116.468453,39.899186'},
            {'劲松': '116.46801,39.890027'},
            {'潘家园': '116.460926,39.875387'}
        ]},
        {'10号线': [
            {'潘家园': '116.460926,39.875387;116.460492,39.868554;116.46039,39.868204;116.459833,39.86659;116.459714,39.866367'},
            {'十里河': '116.459119,39.865814;116.453257,39.861157;116.452801,39.860609;116.452505,39.860074;116.452318,39.858863'},
            {'分钟寺': '116.453966,39.85224;116.454536,39.849114;116.454536,39.847891;116.454032,39.846861;116.453104,39.846227;116.45238,39.845947;116.451345,39.845848'},
            {'成寿寺': '116.447523,39.845883'},
            {'宋家庄': '116.428368,39.845849'},
            {'石榴庄': '116.414103,39.845905'},
            {'大红门站': '116.399087,39.845391'},
            {'角门东': '116.385644,39.845153;116.38441,39.845087;116.378987,39.845458;116.372238,39.845839'},
            {'角门西': '116.371128,39.845877'},
            {'草桥站': '116.35136,39.845884;116.350523,39.845823;116.349204,39.845724;116.346994,39.845246;116.344934,39.844785;116.345577,39.844916;116.343861,39.84462;116.341822,39.844356;116.336136,39.844356'},
            {'纪家庙': '116.333282,39.844472'},
            {'首经贸站': '116.320202,39.844463;116.309218,39.844363;116.307415,39.844989;116.305742,39.847065'},
            {'丰台站': '116.30454,39.849639;116.304087,39.851555;116.304087,39.85508'},
            {'泥洼': '116.304173,39.858609'},
            {'西局': '116.303819,39.86677'},
            {'六里桥': '116.302808,39.880239;116.302493,39.882716;116.302837,39.885087;116.303824,39.887261;116.309403,39.893287;116.309982,39.894258;116.31024,39.894735;116.310304,39.895822'},
            {'莲花桥站': '116.310347,39.897867'},
            {'公主坟站': '116.309919,39.907469;116.309737,39.914195;116.308707,39.915282;116.307076,39.91617;116.299566,39.920054;116.298708,39.920811;116.298257,39.921437;116.298085,39.922671'},
            {'西钓鱼台': '116.298064,39.923481;116.298043,39.924629;116.295468,39.931984'},
            {'慈寿寺': '116.29536,39.933383'},
            {'车道沟': '116.293818,39.947923;116.29389,39.949838;116.294491,39.952503;116.294791,39.95724'},
            {'长春桥': '116.294255,39.958527'},
            {'火器营': '116.289058,39.965938;116.287629,39.968024;116.287565,39.968106;116.287286,39.969438;116.287307,39.97105;116.288048,39.972743;116.288101,39.972776;116.289077,39.973582;116.289786,39.973903;116.290601,39.974133;116.292135,39.974289'},
            {'巴沟': '116.293362,39.974408'}
        ]},
        {'亦庄线(L2线)': [
            {'宋家庄': '116.428368,39.845849;116.428408,39.837278;116.428666,39.836685;116.429267,39.836223;116.42931,39.83619;116.438236,39.834675;116.441455,39.834378'},
            {'肖村': '116.448364,39.834217;116.451224,39.834237;116.453691,39.834047;116.45471,39.833866;116.456373,39.833322;116.456974,39.833021;116.457291,39.832778;116.457575,39.832523;116.458042,39.831843;116.458562,39.830752'},
            {'小红门': '116.459226,39.827951;116.460403,39.825102;116.460617,39.824179;116.461089,39.812098;116.460424,39.80956;116.460338,39.808653'},
            {'旧宫': '116.460789,39.80691;116.461424,39.805401;116.461971,39.804602;116.46284,39.803819;116.464171,39.803003;116.465727,39.802401;116.46857,39.801684;116.470855,39.801363;116.473312,39.801404'},
            {'亦庄桥': '116.480307,39.803011;116.482476,39.80358;116.483876,39.804025'},
            {'亦庄文化园': '116.490632,39.80689;116.493108,39.807821;116.494309,39.80806;116.495103,39.808118;116.496498,39.808176;116.49858,39.807895;116.498655,39.807879;116.500597,39.807294;116.501691,39.806742;116.502538,39.806165;116.503644,39.805167'},
            {'万源街': '116.505446,39.802921'},
            {'荣京东街': '116.51339,39.793132'},
            {'荣昌东街': '116.521737,39.782799;116.530737,39.771632;116.532883,39.770676;116.534728,39.770643;116.536273,39.771138'},
            {'同济南路': '116.539835,39.7729'},
            {'经海路': '116.562245,39.783587;116.57203,39.788398;116.577866,39.792157'},
            {'次渠南': '116.581256,39.795224'},
            {'次渠': '116.591406,39.803632'},
            {'亦庄火车站': '116.601902,39.812607'}
        ]},
        {'机场线(L1线)': [
            {'东直门': '116.435842,39.941626;116.436673,39.941606;116.437054,39.941647;116.437349,39.94173;116.438185,39.942046;116.440621,39.94342;116.445932,39.950757;116.451993,39.956244;116.452144,39.956458;116.452412,39.957914;116.453045,39.958588'},
            {'三元桥': '116.456997,39.961508;116.515887,40.013947;116.516552,40.014391;116.517475,40.014818;116.562739,40.030601;116.564166,40.030905;116.56731,40.031234;116.56908,40.031587;116.57791,40.035004;116.592437,40.036721;116.607184,40.036598;116.607817,40.036639;116.608337,40.036721;116.609973,40.037247;116.612065,40.038438;116.61534,40.040964;116.616386,40.041941;116.616842,40.042742;116.616907,40.043128'},
            {'T3航站楼': '116.615579,40.052544'}
        ]},
        {'5号线': [
            {'宋家庄站': '116.428368,39.845849;116.429316,39.85229;116.42884,39.852533;116.428337,39.853391'},
            {'刘家窑站': '116.428565,39.863697'},
            {'蒲黄榆站': '116.428894,39.871689'},
            {'天坛东门站': '116.427392,39.888497;116.427152,39.89106;116.425786,39.893911;116.425499,39.894714'},
            {'磁器口站': '116.426035,39.899339'},
            {'崇文门站': '116.424439,39.906953'},
            {'东单站': '116.425249,39.914504'},
            {'灯市口站': '116.424169,39.923603'},
            {'东四站': '116.423405,39.930647'},
            {'张自忠路站': '116.423579,39.939914'},
            {'北新桥站': '116.423298,39.947112'},
            {'雍和宫站': '116.42312,39.955113;116.422956,39.955898;116.422723,39.956824;116.4231,39.957364;116.425292,39.958124;116.425328,39.958152;116.425301,39.960219;116.425395,39.960419'},
            {'和平里北街站': '116.425051,39.964752'},
            {'和平西桥站': '116.424463,39.974502'},
            {'惠新西街南口站': '116.42404,39.983276'},
            {'惠新西街北口站': '116.423532,39.994151;116.424156,40.00767'},
            {'大屯路东站': '116.424567,40.009611;116.422669,40.017888;116.423998,40.025181;116.42407,40.031286'},
            {'北苑路北站': '116.424525,40.036821;116.424383,40.038966;116.423808,40.041452;116.422227,40.043827'},
            {'立水桥南站': '116.420973,40.048143;116.418225,40.052256;116.41765,40.053637;116.417794,40.057668'},
            {'立水桥站': '116.418274,40.059244;116.419626,40.060333;116.419986,40.061106'},
            {'天通苑南站': '116.419113,40.072752;116.418602,40.078595'},
            {'天通苑站': '116.419233,40.081478;116.419608,40.083784;116.419608,40.085937'},
            {'天通苑北站': '116.419608,40.083784;116.419608,40.085937'}
        ]},
        {'M9线': [
            {'国家图书馆站': '116.325646,39.93959;116.325437,39.940955;116.325559,39.938591'},
            {'白石桥南站': '116.32568,39.933022'},
            {'白堆子站': '116.325762,39.923818;116.32586,39.92039;116.325646,39.917762;116.325329,39.916223;116.32482,39.914565;116.324093,39.912865;116.321647,39.907981'},
            {'军事博物馆站': '116.321449,39.907433;116.321128,39.906322'},
            {'北京西站': '116.321187,39.894733;116.321166,39.889811;116.321128,39.88972;116.321064,39.889605;116.320844,39.889461'},
            {'六里桥东': '116.315007,39.886979'},
            {'六里桥': '116.302454,39.880438;116.29842,39.8781;116.296918,39.877013;116.295502,39.87507;116.294987,39.873423;116.294301,39.869339'},
            {'七里庄': '116.294043,39.866934'},
            {'丰台东大街': '116.293442,39.855273;116.294172,39.850397;116.294494,39.84913'},
            {'丰台南路站': '116.296532,39.840578;116.297578,39.834269;116.297417,39.833194'},
            {'科怡路站': '116.297432,39.83248'},
            {'丰台科技园': '116.29749,39.83042;116.297104,39.827223;116.297268,39.823111;116.298169,39.820754;116.299886,39.819205;116.30068,39.818793;116.301323,39.817969;116.301795,39.816815'},
            {'郭公庄': '116.301889,39.814322'}
        ]},
        {'1号线': [
            {'苹果园': '116.177388,39.926727;116.18715,39.907833;116.187579,39.907488;116.187858,39.907381;116.189306,39.90743'},
            {'古城': '116.190337,39.90745'},
            {'八角游乐园': '116.212662,39.90744'},
            {'八宝山': '116.235944,39.907452'},
            {'玉泉路': '116.25287,39.907481'},
            {'五棵松': '116.273974,39.907477'},
            {'万寿路': '116.294745,39.907489'},
            {'公主坟': '116.309899,39.907479'},
            {'军事博物馆': '116.323364,39.907434'},
            {'木樨地': '116.337574,39.907394'},
            {'南礼士路': '116.352573,39.907241'},
            {'复兴门': '116.357766,39.907187'},
            {'西单': '116.376319,39.907208'},
            {'天安门西': '116.39126,39.907488'},
            {'天安门东': '116.40119,39.907788'},
            {'王府井': '116.41156,39.908072'},
            {'东单': '116.420281,39.908385'},
            {'建国门': '116.434893,39.908513'},
            {'永安里': '116.450471,39.908484'},
            {'国贸': '116.459569,39.908484'},
            {'大望路': '116.475765,39.908299;116.487073,39.908286;116.489969,39.908508;116.494014,39.908755'},
            {'四惠': '116.495409,39.908764'},
            {'四惠东': '116.515638,39.908532'}
        ]},
        {'2号线': [
            {'积水潭': '116.373126,39.948653'},
            {'鼓楼大街': '116.393682,39.948978'},
            {'安定门': '116.408145,39.949241'},
            {'雍和宫': '116.41705,39.949373;116.430965,39.949686;116.432102,39.949472;116.432607,39.949217;116.4331,39.948822;116.433427,39.948407;116.433663,39.947547;116.433452,39.944753'},
            {'东直门': '116.433476,39.941164'},
            {'东四十条': '116.434119,39.933825'},
            {'朝阳门': '116.434559,39.924586;116.434951,39.914009;116.435777,39.910791;116.43581,39.90987'},
            {'建国门': '116.435724,39.908495;116.435964,39.905694;116.435937,39.905484;116.435765,39.905241;116.435138,39.905147'},
            {'北京站': '116.427268,39.904994;116.425631,39.904945;116.425223,39.904895;116.424719,39.904796;116.424151,39.904484;116.423518,39.904048;116.420803,39.901866;116.419591,39.901274;116.41847,39.901082'},
            {'崇文门': '116.417005,39.901085;116.403249,39.90066;116.402112,39.900545;116.399888,39.900245;116.399379,39.900187'},
            {'前门': '116.397842,39.900232;116.396037,39.900175;116.394245,39.900298;116.393022,39.900331;116.391348,39.900282'},
            {'和平门': '116.384209,39.900098'},
            {'宣武门': '116.374296,39.899798'},
            {'长椿街': '116.363341,39.899444;116.361185,39.899411;116.360133,39.899477;116.359758,39.899551;116.358374,39.900275;116.357269,39.901411;116.356915,39.90202;116.356861,39.902349'},
            {'复兴门': '116.356818,39.907263'},
            {'阜成门': '116.356009,39.923686'},
            {'车公庄': '116.355837,39.932634'},
            {'西直门': '116.355237,39.940597;116.35543,39.942176;116.355601,39.942834;116.356202,39.94364;116.357018,39.944052;116.364978,39.946355;116.369055,39.947901;116.371201,39.948625;116.372081,39.948608'},
            {'积水潭': '116.373126,39.948653'}
        ]},
        {'13号线': [
            {'西直门': '116.353078,39.941804;116.351383,39.946427;116.351276,39.947068;116.351319,39.94766;116.351716,39.95021;116.351694,39.950646;116.351576,39.951057;116.351383,39.951591;116.346201,39.961115;116.345686,39.963088'},
            {'大钟寺': '116.345139,39.966612;116.345012,39.967757;116.344711,39.968793;116.343982,39.970224;116.340744,39.97433;116.340369,39.974947;116.34009,39.975588'},
            {'知春路': '116.33996,39.976476;116.338019,39.986785'},
            {'五道口': '116.337547,39.992967;116.337076,40.007291;116.336775,40.008359;116.335423,40.010282;116.325982,40.018844;116.325499,40.019846'},
            {'上地': '116.320177,40.033024;116.318643,40.035957;116.317013,40.038191;116.313665,40.041214;116.312721,40.043185;116.308687,40.048376'},
            {'西二旗': '116.30594,40.053041;116.301477,40.061253;116.299332,40.064537;116.299417,40.066311;116.302851,40.07035;116.305125,40.071729;116.307485,40.072353;116.310361,40.071335;116.31182,40.070876'},
            {'龙泽': '116.319158,40.071105'},
            {'回龙观': '116.335852,40.070941'},
            {'霍营': '116.360786,40.070613;116.367396,40.070338;116.370572,40.069746;116.394004,40.060025'},
            {'立水桥': '116.411405,40.052778'},
            {'北苑': '116.434258,40.043008;116.452326,40.035254;116.456016,40.0344;116.456918,40.034006;116.458334,40.032626;116.459106,40.031245;116.459321,40.030884;116.459235,40.029372;116.459021,40.026546;116.451982,40.00515;116.450352,40.000087;116.449021,39.997851'},
            {'望京西': '116.447262,39.995221'},
            {'芍药居': '116.435846,39.977679;116.432113,39.971858;116.43207,39.971924;116.431812,39.971019;116.431662,39.969457'},
            {'光熙门': '116.431555,39.968454;116.431877,39.962139'},
            {'柳芳': '116.432563,39.95829;116.432992,39.95681;116.433658,39.954984;116.433743,39.953701;116.434602,39.9481'},
            {'东直门': '116.435031,39.942392'}
        ]},
        {'八通线': [
            {'四惠东': '116.515638,39.908532;116.5217,39.908314;116.523492,39.908528;116.527038,39.909232;116.527901,39.909355;116.52913,39.909417'},
            {'高碑店': '116.531404,39.909462'},
            {'传媒大学': '116.554639,39.909215;116.570196,39.909442;116.572063,39.909606'},
            {'双桥': '116.576719,39.910182;116.57859,39.910292;116.579577,39.910292;116.580853,39.910185;116.586827,39.909465'},
            {'管庄': '116.598928,39.909112;116.606354,39.90886;116.607706,39.908564;116.614229,39.905913;116.615624,39.905716;116.616718,39.905765'},
            {'八里桥': '116.618617,39.906136;116.620323,39.906453;116.621342,39.906527;116.621717,39.906506;116.622624,39.906416;116.623874,39.90623;116.633755,39.906078;116.634726,39.905909;116.635837,39.905448;116.636336,39.905012;116.636861,39.904444'},
            {'通州北苑': '116.637242,39.903872;116.64318,39.895046;116.64414,39.894239;116.645095,39.893811'},
            {'果园': '116.646612,39.893399'},
            {'九棵树': '116.657491,39.890304;116.661703,39.889057;116.66224,39.888794'},
            {'梨园': '116.668704,39.883698'},
            {'临河里': '116.678803,39.875503;116.681355,39.873534;116.682965,39.872834'},
            {'土桥': '116.686346,39.871935'}
        ]},
        {'昌平线': [
            {'昌平西山口': '116.195283,40.244754;116.201141,40.243984;116.203716,40.24351;116.205325,40.242838'},
            {'十三陵景区': '116.207557,40.240266;116.208801,40.238465;116.211891,40.230716;116.214981,40.225949;116.218242,40.222935;116.220174,40.221919;116.225195,40.220444;116.227469,40.220182'},
            {'昌平': '116.23352,40.220608'},
            {'昌平东关': '116.262059,40.221726'},
            {'北邵洼': '116.281886,40.22205;116.283924,40.221952;116.284976,40.221853;116.286585,40.221247;116.287572,40.220739;116.287873,40.2201;116.287958,40.218871;116.287974,40.209518;116.287716,40.208158'},
            {'南邵': '116.287422,40.207598;116.285313,40.198424;116.285206,40.197112;116.284905,40.196047;116.284326,40.195113;116.283489,40.194293;116.283339,40.194244;116.276065,40.191441;116.275485,40.191195;116.274713,40.190654;116.274005,40.189966;116.273575,40.189114;116.273254,40.187917;116.276193,40.174654;116.278425,40.170063'},
            {'沙河高教园': '116.28027,40.164816;116.287137,40.14988;116.287587,40.149388'},
            {'沙河': '116.288381,40.148417;116.290892,40.145989;116.292437,40.143398;116.293853,40.1349'},
            {'巩华城': '116.293789,40.131065;116.293724,40.129388;116.294153,40.128108;116.294797,40.127255;116.295741,40.126468;116.296042,40.126336;116.297544,40.125811;116.299067,40.12568;116.301921,40.125647;116.303638,40.12545;116.305762,40.124499;116.30677,40.123514;116.310418,40.112373;116.312221,40.108335'},
            {'朱辛庄': '116.313422,40.104511;116.314624,40.100983;116.313809,40.099079;116.31295,40.09816;116.311663,40.097536;116.30235,40.09573;116.298831,40.095435'},
            {'生命科学园': '116.293939,40.094877;116.287716,40.092414;116.286085,40.090642;116.285656,40.088737;116.289175,40.080003;116.289175,40.0802;116.294668,40.073501;116.298102,40.067196;116.298638,40.065505;116.299282,40.064191;116.30205,40.060348;116.304324,40.056144'},
            {'西二旗': '116.305912,40.053006'}
        ]},
        {'西郊线': [
            {'巴沟': '116.291645,39.974634;116.288255,39.973738;116.28804,39.973779;116.287697,39.973927;116.286227,39.975144;116.283781,39.976871;116.279468,39.978926;116.275241,39.980044;116.274415,39.980118;116.272173,39.979987;116.271475,39.980118;116.27066,39.980488;116.26566,39.984387'},
            {'颐和园西门': '116.263235,39.985815;116.262377,39.985961;116.262152,39.985936;116.261841,39.985821;116.25947,39.983487;116.256809,39.982188;116.256466,39.98213;116.255468,39.982031;116.254888,39.982081;116.254052,39.982327;116.252346,39.982911;116.251713,39.982977;116.251326,39.982985;116.251359,39.982985;116.249706,39.982475'},
            {'茶棚': '116.247979,39.982151;116.246338,39.981793;116.243934,39.981793;116.239771,39.980478;116.236939,39.980478;116.236167,39.980872;116.233506,39.98278'},
            {'万安': '116.231832,39.984095;116.224279,39.98952;116.22282,39.991263;116.218228,39.993564;116.216554,39.993696'},
            {'植物园': '116.214666,39.993992;116.209602,39.993893;116.207478,39.99414'},
            {'香山': '116.204366,39.994123'}
        ]},
        {'燕房线': [
            {'阎村东': '116.100817,39.729028;116.091075,39.729107;116.088758,39.728562;116.087857,39.727952;116.087148,39.727258;116.086633,39.725839'},
            {'紫草坞': '116.086569,39.724601;116.086434,39.720153;116.086005,39.71903;116.085555,39.718436;116.084889,39.717941;116.083774,39.71738'},
            {'阎村': '116.07996,39.717009'},
            {'星城': '116.061264,39.713798;116.0556,39.712378;116.054012,39.712461;116.052166,39.712708;116.0506,39.712874;116.048626,39.712741'},
            {'大石河东': '116.039506,39.710067;116.032704,39.707261;116.03146,39.70698;116.021933,39.706708;116.020978,39.706584'},
            {'马各庄': '116.016461,39.705148'},
            {'饶乐府': '116.005829,39.701698;116.002524,39.700377;115.999434,39.699849;115.996602,39.700014;115.996602,39.700014;115.990722,39.70391'},
            {'房山城关': '115.989521,39.706122;115.989156,39.707014;115.988469,39.708103;115.980787,39.714772;115.975766,39.717644'},
            {'燕山': '115.973149,39.719789'}
        ]}
    ];

var that = '';

var mapLayer = {};

var mapconlayers = {};

var showSubLine = false;

//此方式：弹窗非iframe模式
L.widget.bindClass(L.widget.BaseWidget.extend({
    map: null,//框架会自动对map赋值
    options: { 
        resources: ['view.css'],
        view: [
            { type: "append", url: "view.html" }
        ],
    },
    //初始化[仅执行1次]
    create: function () {

    },
    //每个窗口创建完成后调用
    winCreateOK: function (viewopt, html) {

        that = this;
        that.xsglobal();

    },
    //激活插件
    activate: function () {
         
    },
    //释放插件
    disable: function () { 

    },

    xsglobal: function() {
        showSubLine = false;
        $(".proMarker").remove();

        if(map.hasLayer(mapconlayers.proGeoLayer)){
            map.removeLayer(mapconlayers.proGeoLayer);
        }
        
        var inputdom = document.querySelectorAll('input[name="xianlu"]');
        for(var i = 0; i < inputdom.length; i++){
            inputdom[i].checked = false;
        }

        $.ajax({
            url: 'http://localhost:8070/CCPGIS-2D-20190107/js/mapdata/china.json',
            type: "GET",
            success: function (data) {
                data = JSON.parse(data);
                //如果加载全国边界，就会有mapconlayers
                if(!map.hasLayer(mapconlayers.globalGeoLayer)){
                    mapconlayers.globalGeoLayer = L.layerGroup(L.geoJSON(data, {
                        style: function (feature) {
                            return {color: '#08a8ff',
                                    weight: 3,
                                    opacity: 1,
                                    fillColor: 'white',
                                    fillOpacity: 0.5};
                        }
                    }).getLayers()).addTo(map);
                    var dafeatures = data.features;

                    //加载全国的圆圈和数字
                    var provinceJsondata = [
                        {
                            'provinceName': '北京市',
                            'countp': '22'
                        }
                    ];

                    for(var k = 0; k < provinceJsondata.length; k++){
                        for(var m = 0; m < data.features.length; m++){
                            if(provinceJsondata[k].provinceName === dafeatures[m].properties.name){
                                L.marker([dafeatures[m].properties.cp[1], dafeatures[m].properties.cp[0]], {
                                    icon: L.divIcon({
                                        //className: 'leaflet-echart-icon',
                                        iconSize: [40, 40],
                                        html: '<div onclick="javascript:that.xzPro(this)" class="proMarker" data-name="' + provinceJsondata[k].provinceName + '" data-spe="' + dafeatures[m].properties.id + '" style="background-color: rgb(153,51,255); color:white; width: 30px; height: 30px; position: relative; border-radius: 50%; display: flex; justify-content:center; align-items:center;">'+ provinceJsondata[k].countp + '</div>'
                                    }) 
                                }).addTo(map);
                            }
                        }
                    }
                }
            },
            error: function (data) {
                //toastr.error("请求出错(" + data.status + ")：" + data.statusText);
            }
        });
    },

    xzPro: function (prop) {
        showSubLine = false;
        var proName = prop.dataset.name;
        var proSpe = prop.dataset.spe ;
        map.removeLayer(mapconlayers.globalGeoLayer);
        $(".proMarker").remove();
        $.ajax({
            url: 'http://localhost:8070/CCPGIS-2D-20190107/js/mapdata/geometryProvince/' + proSpe + '.json',
            type: "GET",
            success: function (data) {
                data = JSON.parse(data);
                map.setView(L.latLng(data.cp[1], data.cp[0]), 6);
                //如果加载全国边界，就会有mapconlayers
                mapconlayers.proGeoLayer = L.layerGroup(L.geoJSON(data, {
                    style: function (feature) {
                        return {color: '#08a8ff',
                                weight: 3,
                                opacity: 1,
                                fillColor: 'white',
                                fillOpacity: 0};
                    }
                }).getLayers()).addTo(map);
                
                var dafeatures = data.features;
                that.drawSubWay(that);

            },
            error: function (data) {
                //toastr.error("请求出错(" + data.status + ")：" + data.statusText);
            }
        });
    },

    drawSubWay: function (that) {
        showSubLine = true;
        //that.drawSubWayLinegh();
        that.drawSubWayLinezj();
        that.drawSubWayLineyy();
        var inputdom = document.querySelectorAll('input[name="xianlu"]');
        for(var i = 0; i < inputdom.length; i++){
            inputdom[i].addEventListener("click", function(e){
                if(e.currentTarget.value === 'guihua'){
                    if(e.currentTarget.checked === true && showSubLine){
                        if(!map.hasLayer(mapconlayers.lineLayergh)){
                            map.addLayer(mapconlayers.lineLayergh);
                        }
                        if(!map.hasLayer(mapconlayers.labelLayergh) && map.getZoom() > 13){
                            map.addLayer(mapconlayers.labelLayergh);
                        }
                        if(!map.hasLayer(mapconlayers.pointLayergh) && map.getZoom() > 13){
                            map.addLayer(mapconlayers.pointLayergh);
                        }
                        if(!map.hasLayer(mapconlayers.lineNameLayergh) && map.getZoom() > 12){
                            map.addLayer(mapconlayers.lineNameLayergh);
                            var ghNameLays = lineNameLayergh.getLayers();
                            for(var n = 0; n < ghNameLays.length; n++){
                                tempolylinecp = ghNameLays[n].getCenter();
                                
                                if(mapLayer.lineNameLayerghAnother[n][1] * 1 > 0.025){
                                    mapLayer.lineNameLayergh2.push(L.marker([ tempolylinecp.lat, tempolylinecp.lng ], {
                                        icon: L.divIcon({
                                            html: '<span style="display: inline-block; color: white; white-space: nowrap; font-size: 3px; transform: translate(-50%, 0); background-color: red; border-radius: 5px; padding: 1px 1px;">' + mapLayer.lineNameLayerghAnother[n][0] + '</span>'
                                        })
                                    }));
                                }

                                mapconlayers.lineNameLayergh2 = L.layerGroup(mapLayer.lineNameLayergh2);
                                mapconlayers.lineNameLayergh2.addTo(map);
                            }
                        }
                        if(!map.hasLayer(mapconlayers.lineNameLayergh2) && map.getZoom() > 12){
                            map.addLayer(mapconlayers.lineNameLayergh2);
                        }
                    }else{
                        if(map.hasLayer(mapconlayers.lineLayergh)){
                            map.removeLayer(mapconlayers.lineLayergh);
                        }
                        if(map.hasLayer(mapconlayers.labelLayergh)){
                            map.removeLayer(mapconlayers.labelLayergh);
                        }
                        if(map.hasLayer(mapconlayers.pointLayergh)){
                            map.removeLayer(mapconlayers.pointLayergh);
                        }
                        if(map.hasLayer(mapconlayers.lineNameLayergh)){
                            map.removeLayer(mapconlayers.lineNameLayergh);
                        }
                        if(map.hasLayer(mapconlayers.lineNameLayergh2)){
                            map.removeLayer(mapconlayers.lineNameLayergh2);
                        }
                    }
                }

                if(e.currentTarget.value === 'zaijian'){
                    if(e.currentTarget.checked === true && showSubLine){
                        if(!map.hasLayer(mapconlayers.lineLayerzj)){
                            map.addLayer(mapconlayers.lineLayerzj);
                        }
                        if(!map.hasLayer(mapconlayers.labelLayerzj) && map.getZoom() > 13){
                            map.addLayer(mapconlayers.labelLayerzj);
                        }
                        if(!map.hasLayer(mapconlayers.pointLayerzj) && map.getZoom() > 13){
                            map.addLayer(mapconlayers.pointLayerzj);
                        }
                        if(!map.hasLayer(mapconlayers.lineNameLayerzj) && map.getZoom() > 12){
                            map.addLayer(mapconlayers.lineNameLayerzj);
                            var zjNameLays = mapconlayers.lineNameLayerzj.getLayers();
                            for(var n = 0; n < zjNameLays.length; n++){
                                tempolylinecp = zjNameLays[n].getCenter();
                                
                                if(mapLayer.lineNameLayerzjAnother[n][1] * 1 > 0.025){
                                    mapLayer.lineNameLayerzj2.push(L.marker([ tempolylinecp.lat, tempolylinecp.lng ], {
                                        icon: L.divIcon({
                                            html: '<span style="display: inline-block; color: white; white-space: nowrap; font-size: 3px; transform: translate(-50%, 0); background-color: blue; border-radius: 5px; padding: 1px 1px;">' + mapLayer.lineNameLayerzjAnother[n][0] + '</span>'
                                        })
                                    }));
                                }

                                mapconlayers.lineNameLayerzj2 = L.layerGroup(mapLayer.lineNameLayerzj2);
                                mapconlayers.lineNameLayerzj2.addTo(map);
                            }
                        }
                        if(!map.hasLayer(mapconlayers.lineNameLayerzj2) && map.getZoom() > 12){
                            map.addLayer(mapconlayers.lineNameLayerzj2);
                        }
                    }else{
                        if(map.hasLayer(mapconlayers.lineLayerzj)){
                            map.removeLayer(mapconlayers.lineLayerzj);
                        }
                        if(map.hasLayer(mapconlayers.labelLayerzj)){
                            map.removeLayer(mapconlayers.labelLayerzj);
                        }
                        if(map.hasLayer(mapconlayers.pointLayerzj)){
                            map.removeLayer(mapconlayers.pointLayerzj);
                        }
                        if(map.hasLayer(mapconlayers.lineNameLayerzj)){
                            map.removeLayer(mapconlayers.lineNameLayerzj);
                        }
                        if(map.hasLayer(mapconlayers.lineNameLayerzj2)){
                            map.removeLayer(mapconlayers.lineNameLayerzj2);
                        }
                    }
                }

                if(e.currentTarget.value === 'yunying'){
                    if(e.currentTarget.checked === true && showSubLine){
                        if(!map.hasLayer(mapconlayers.lineLayeryy)){
                            map.addLayer(mapconlayers.lineLayeryy);
                        }
                        if(!map.hasLayer(mapconlayers.labelLayeryy) && map.getZoom() > 13){
                            map.addLayer(mapconlayers.labelLayeryy);
                        }
                        if(!map.hasLayer(mapconlayers.pointLayeryy) && map.getZoom() > 13){
                            map.addLayer(mapconlayers.pointLayeryy);
                        }
                        if(!map.hasLayer(mapconlayers.lineNameLayeryy) && map.getZoom() > 12){
                            map.addLayer(mapconlayers.lineNameLayeryy);
                            var yyNameLays = mapconlayers.lineNameLayeryy.getLayers();
                            for(var n = 0; n < yyNameLays.length; n++){
                                tempolylinecp = yyNameLays[n].getCenter();
                                
                                if(mapLayer.lineNameLayeryyAnother[n][1] * 1 > 0.025){
                                    mapLayer.lineNameLayeryy2.push(L.marker([ tempolylinecp.lat, tempolylinecp.lng ], {
                                        icon: L.divIcon({
                                            html: '<span style="display: inline-block; color: white; white-space: nowrap; font-size: 3px; transform: translate(-50%, 0); background-color: green; border-radius: 5px; padding: 1px 1px;">' + mapLayer.lineNameLayeryyAnother[n][0] + '</span>'
                                        })
                                    }));
                                }

                                mapconlayers.lineNameLayeryy2 = L.layerGroup(mapLayer.lineNameLayeryy2);
                                mapconlayers.lineNameLayeryy2.addTo(map);
                            }
                        }
                        if(!map.hasLayer(mapconlayers.lineNameLayeryy2) && map.getZoom() > 12){
                            map.addLayer(mapconlayers.lineNameLayeryy2);
                        }
                    }else{
                        if(map.hasLayer(mapconlayers.lineLayeryy)){
                            map.removeLayer(mapconlayers.lineLayeryy);
                        }
                        if(map.hasLayer(mapconlayers.labelLayeryy)){
                            map.removeLayer(mapconlayers.labelLayeryy);
                        }
                        if(map.hasLayer(mapconlayers.pointLayeryy)){
                            map.removeLayer(mapconlayers.pointLayeryy);
                        }
                        if(map.hasLayer(mapconlayers.lineNameLayeryy)){
                            map.removeLayer(mapconlayers.lineNameLayeryy);
                        }
                        if(map.hasLayer(mapconlayers.lineNameLayeryy2)){
                            map.removeLayer(mapconlayers.lineNameLayeryy2);
                        }
                    }
                }
            })
        }
        map.on('zoomend', function (e) {
            if(map.getZoom() === 4){
                that.clearSubWayLines();
                that.xsglobal();
            }
        });
    },

    drawSubWayLinegh: function(){
        mapLayer.labelLayergh = [];
        mapLayer.pointLayergh = [];
        mapLayer.lineLayergh = [];
        mapLayer.lineNameLayergh = [];
        mapLayer.lineNameLayergh2 = [];
        mapLayer.lineNameLayerghAnother = [];
        for(var i = 0; i < ghLine.length; i++){ 
            for(var item in ghLine[i]){
                var lineZ = [];
                for(var j = 0; j < ghLine[i][item].length; j++){
                    for(var item2 in ghLine[i][item][j]){
                        var arrZ = ghLine[i][item][j][item2].split(';');
                        for(var k = 0; k < arrZ.length; k++){
                            var arr = that.gcj02towgs84(arrZ[k].split(',')[0] * 1, arrZ[k].split(',')[1] * 1 );
                            if(k === 0){
                                //如果是站点，增加一个标志位1
                                lineZ.push([arr[1], arr[0], 1]);
                            }else{
                                //如果是中间控制点，增加一个标志位0
                                lineZ.push([arr[1], arr[0], 0]);
                            }
                        }
                        var firstPoint = that.gcj02towgs84(arrZ[0].split(',')[0] * 1, arrZ[0].split(',')[1] * 1 );
                        mapLayer.pointLayergh.push(L.marker([ firstPoint[1], firstPoint[0] ], {
                            icon: L.divIcon({
                                className: '',
                                iconSize: [8, 8],
                                html: '<div style="width: 8px; height: 8px; background-color: red; border-radius: 6px;"></div>'
                            })
                        }));


                        mapLayer.labelLayergh.push(L.marker([ firstPoint[1], firstPoint[0] ], {
                            icon: L.divIcon({
                                className: '',
                                html: '<div style="width: 200px; height: 20px; color: black; position: relative; font-size: 14px;">' + item2 + '</div>',
                                iconAnchor: [20, 25]
                            })
                        }));
                    }
                }
                mapLayer.lineLayergh.push(L.polyline(lineZ, {color: 'red', dashArray: '5'}).bindPopup(item));
                var totalLenArr = [];
                var lineLen = 0;
                var spoint = '';
                var zpoint = '';
                var started = false;
                var tempolyline = [];
                var tempolylinecp = '';
                for(var k = 0; k < lineZ.length; k++){
                    if(lineZ[k][2] === 1 && lineZ[k+1] && started === false){
                        spoint = L.point(lineZ[k][0], lineZ[k][1]);
                        tempolyline = [];
                        lineLen = 0;
                        tempolyline.push([lineZ[k][0], lineZ[k][1]]);
                        started = true;
                    }else if(lineZ[k][2] === 0){
                        zpoint = L.point(lineZ[k][0], lineZ[k][1]);
                        lineLen += spoint.distanceTo(zpoint);
                        spoint = zpoint;
                        tempolyline.push([lineZ[k][0], lineZ[k][1]]);
                    }else if(lineZ[k][2] === 1 && started === true){
                        epoint = L.point(lineZ[k][0], lineZ[k][1]);
                        started = false;
                        lineLen += spoint.distanceTo(epoint);
                        tempolyline.push([lineZ[k][0], lineZ[k][1]]);
                        var temline = L.polyline(tempolyline, { weight: 0 });
                        mapLayer.lineNameLayergh.push(temline);
                        mapLayer.lineNameLayerghAnother.push([item, lineLen+'']);
                        k--;
                    }
                }

            }
            mapconlayers.lineLayergh = L.layerGroup(mapLayer.lineLayergh);

            mapconlayers.lineNameLayergh = L.layerGroup(mapLayer.lineNameLayergh);
            mapconlayers.lineNameLayergh2 = '';

            mapconlayers.labelLayergh = L.layerGroup(mapLayer.labelLayergh);
            mapconlayers.pointLayergh = L.layerGroup(mapLayer.pointLayergh);
            if(showSubLine){
                map.on('zoomend', function(){
                    if(map.getZoom() > 13){
                        var inputdom = document.querySelectorAll('input[name="xianlu"]');
                        for(var i = 0; i < inputdom.length; i++){
                            if(inputdom[i].value === 'guihua' && inputdom[i].checked === true){
                                mapconlayers.labelLayergh.addTo(map);
                                mapconlayers.pointLayergh.addTo(map);
                            }
                        }
                    }else{
                        map.removeLayer(mapconlayers.labelLayergh);
                        map.removeLayer(mapconlayers.pointLayergh);
                    }

                    if(map.getZoom() > 12){
                        var inputdom = document.querySelectorAll('input[name="xianlu"]');
                        for(var i = 0; i < inputdom.length; i++){
                            if(inputdom[i].value === 'guihua' && inputdom[i].checked === true){
                                if(!map.hasLayer(mapconlayers.lineNameLayergh)){
                                    mapconlayers.lineNameLayergh.addTo(map);
                                    var ghNameLays = mapconlayers.lineNameLayergh.getLayers();
                                    for(var n = 0; n < ghNameLays.length; n++){
                                        tempolylinecp = ghNameLays[n].getCenter();
                                        
                                        if(mapLayer.lineNameLayerghAnother[n][1] * 1 > 0.025){
                                            mapLayer.lineNameLayergh2.push(L.marker([ tempolylinecp.lat, tempolylinecp.lng ], {
                                                icon: L.divIcon({
                                                    html: '<span style="display: inline-block; color: white; white-space: nowrap; font-size: 3px; transform: translate(-50%, 0); background-color: red; border-radius: 5px; padding: 1px 1px;">' + mapLayer.lineNameLayerghAnother[n][0] + '</span>'
                                                })
                                            }));
                                        }

                                        mapconlayers.lineNameLayergh2 = L.layerGroup(mapLayer.lineNameLayergh2);
                                        mapconlayers.lineNameLayergh2.addTo(map);
                                    }
                                }
                            }
                        }
                    }else{
                        if(map.hasLayer(mapconlayers.lineNameLayergh)){
                            map.removeLayer(mapconlayers.lineNameLayergh);
                        }
                        
                        if(map.hasLayer(mapconlayers.lineNameLayergh2)){
                            map.removeLayer(mapconlayers.lineNameLayergh2);
                        }
                    }
                });
            }else{
                map.off('zoomend');
            }
        }
        var inputdom = document.querySelectorAll('input[name="xianlu"]');
        for(var i = 0; i < inputdom.length; i++){
            if(inputdom[i].value === 'guihua' && inputdom[i].checked === true && showSubLine){
                mapconlayers.lineLayergh.addTo(map);
            }
        }
    },

    drawSubWayLinezj: function(){
        mapLayer.labelLayerzj = [];
        mapLayer.pointLayerzj = [];
        mapLayer.lineLayerzj = [];
        mapLayer.lineNameLayerzj = [];
        mapLayer.lineNameLayerzj2 = [];
        mapLayer.lineNameLayerzjAnother = [];
        for(var i = 0; i < zjLine.length; i++){
            for(var item in zjLine[i]){
                var lineZ = [];
                for(var j = 0; j < zjLine[i][item].length; j++){
                    for(var item2 in zjLine[i][item][j]){
                        var arrZ = zjLine[i][item][j][item2].split(';');
                        for(var k = 0; k < arrZ.length; k++){
                            var arr = that.gcj02towgs84(arrZ[k].split(',')[0] * 1, arrZ[k].split(',')[1] * 1 );
                            if(k === 0){
                                //如果是站点，增加一个标志位1
                                lineZ.push([arr[1], arr[0], 1]);
                            }else{
                                //如果是中间控制点，增加一个标志位0
                                lineZ.push([arr[1], arr[0], 0]);
                            }
                        }
                        var firstPoint = that.gcj02towgs84(arrZ[0].split(',')[0] * 1, arrZ[0].split(',')[1] * 1 );
                        mapLayer.pointLayerzj.push(L.marker([ firstPoint[1], firstPoint[0] ], {
                            icon: L.divIcon({
                                className: '',
                                iconSize: [8, 8],
                                html: '<div style="width: 8px; height: 8px; background-color: blue; border-radius: 6px;"></div>'
                            })
                        }));


                        mapLayer.labelLayerzj.push(L.marker([ firstPoint[1], firstPoint[0] ], {
                            icon: L.divIcon({
                                className: '',
                                html: '<div style="width: 200px; height: 20px; color: blue; position: relative; font-size: 14px;">' + item2 + '</div>',
                                iconAnchor: [20, 25]
                            })
                        }));
                    }
                }
                
                mapLayer.lineLayerzj.push(L.polyline(lineZ, {color: 'blue', weight: 5}));

                var totalLenArr = [];
                var lineLen = 0;
                var spoint = '';
                var zpoint = '';
                var started = false;
                var tempolyline = [];
                var tempolylinecp = '';
                for(var k = 0; k < lineZ.length; k++){
                    if(lineZ[k][2] === 1 && lineZ[k+1] && started === false){
                        spoint = L.point(lineZ[k][0], lineZ[k][1]);
                        tempolyline = [];
                        lineLen = 0;
                        tempolyline.push([lineZ[k][0], lineZ[k][1]]);
                        started = true;
                    }else if(lineZ[k][2] === 0){
                        zpoint = L.point(lineZ[k][0], lineZ[k][1]);
                        lineLen += spoint.distanceTo(zpoint);
                        spoint = zpoint;
                        tempolyline.push([lineZ[k][0], lineZ[k][1]]);
                    }else if(lineZ[k][2] === 1 && started === true){
                        epoint = L.point(lineZ[k][0], lineZ[k][1]);
                        started = false;
                        lineLen += spoint.distanceTo(epoint);
                        tempolyline.push([lineZ[k][0], lineZ[k][1]]);
                        var temline = L.polyline(tempolyline, { weight: 0 });
                        mapLayer.lineNameLayerzj.push(temline);
                        mapLayer.lineNameLayerzjAnother.push([item, lineLen+'']);
                        k--;
                    }
                }
            }
            mapconlayers.lineLayerzj = L.layerGroup(mapLayer.lineLayerzj);
            
            mapconlayers.lineNameLayerzj = L.layerGroup(mapLayer.lineNameLayerzj);
            mapconlayers.lineNameLayerzj2 = '';

            mapconlayers.labelLayerzj = L.layerGroup(mapLayer.labelLayerzj);
            mapconlayers.pointLayerzj = L.layerGroup(mapLayer.pointLayerzj);
            if(showSubLine){
                map.on('zoomend', function(){
                    if(map.getZoom() > 13){
                        var inputdom = document.querySelectorAll('input[name="xianlu"]');
                        for(var i = 0; i < inputdom.length; i++){
                            if(inputdom[i].value === 'zaijian' && inputdom[i].checked === true){
                                mapconlayers.labelLayerzj.addTo(map);
                                mapconlayers.pointLayerzj.addTo(map);
                            }
                        }
                    }else{
                        map.removeLayer(mapconlayers.labelLayerzj);
                        map.removeLayer(mapconlayers.pointLayerzj);
                    }

                    if(map.getZoom() > 12){
                        var inputdom = document.querySelectorAll('input[name="xianlu"]');
                        for(var i = 0; i < inputdom.length; i++){
                            if(inputdom[i].value === 'zaijian' && inputdom[i].checked === true){
                                
                                if(!map.hasLayer(mapconlayers.lineNameLayerzj)){

                                    mapconlayers.lineNameLayerzj.addTo(map);
                                    var zjNameLays = mapconlayers.lineNameLayerzj.getLayers();
                                    for(var n = 0; n < zjNameLays.length; n++){
                                        tempolylinecp = zjNameLays[n].getCenter();
                                        
                                        if(mapLayer.lineNameLayerzjAnother[n][1] * 1 > 0.025){
                                            mapLayer.lineNameLayerzj2.push(L.marker([ tempolylinecp.lat, tempolylinecp.lng ], {
                                                icon: L.divIcon({
                                                    html: '<span style="display: inline-block; color: white; white-space: nowrap; font-size: 3px; transform: translate(-50%, 0); background-color: blue; border-radius: 5px; padding: 1px 1px;">' + mapLayer.lineNameLayerzjAnother[n][0] + '</span>'
                                                })
                                            }));
                                        }

                                        mapconlayers.lineNameLayerzj2 = L.layerGroup(mapLayer.lineNameLayerzj2);
                                        mapconlayers.lineNameLayerzj2.addTo(map);
                                    }
                                }
                            }
                        }
                    }else{
                        if(map.hasLayer(mapconlayers.lineNameLayerzj)){
                            map.removeLayer(mapconlayers.lineNameLayerzj);
                        }
                        
                        if(map.hasLayer(mapconlayers.lineNameLayerzj2)){
                            map.removeLayer(mapconlayers.lineNameLayerzj2);
                        }
                    }
                });
            }else{
                map.off('zoomend');
            }
            
        }
        var inputdom = document.querySelectorAll('input[name="xianlu"]');
        for(var i = 0; i < inputdom.length; i++){
            if(inputdom[i].value === 'zaijian' && inputdom[i].checked === true && showSubLine){
                mapconlayers.lineLayerzj.addTo(map);
            }
        }
    },

    drawSubWayLineyy: function(){
        mapLayer.labelLayeryy = [];
        mapLayer.pointLayeryy = [];
        mapLayer.lineLayeryy = [];
        mapLayer.lineNameLayeryy = [];
        mapLayer.lineNameLayeryy2 = [];
        mapLayer.lineNameLayeryyAnother = [];
        for(var i = 0; i < yyLine.length; i++){ 
            for(var item in yyLine[i]){
                var lineZ = [];
                for(var j = 0; j < yyLine[i][item].length; j++){
                    for(var item2 in yyLine[i][item][j]){
                        var arrZ = yyLine[i][item][j][item2].split(';');
                        for(var k = 0; k < arrZ.length; k++){
                            var arr = that.gcj02towgs84(arrZ[k].split(',')[0] * 1, arrZ[k].split(',')[1] * 1 );
                            if(k === 0){
                                //如果是站点，增加一个标志位1
                                lineZ.push([arr[1], arr[0], 1]);
                            }else{
                                //如果是中间控制点，增加一个标志位0
                                lineZ.push([arr[1], arr[0], 0]);
                            }
                        }
                        var firstPoint = that.gcj02towgs84(arrZ[0].split(',')[0] * 1, arrZ[0].split(',')[1] * 1 );
                        mapLayer.pointLayeryy.push(L.marker([ firstPoint[1], firstPoint[0] ], {
                            icon: L.divIcon({
                                className: '',
                                iconSize: [8, 8],
                                html: '<div style="width: 8px; height: 8px; background-color: green; border-radius: 6px;"></div>'
                            })
                        }));


                        mapLayer.labelLayeryy.push(L.marker([ firstPoint[1], firstPoint[0] ], {
                            icon: L.divIcon({
                                className: '',
                                html: '<div style="width: 200px; height: 20px; color: green; position: relative; font-size: 14px;">' + item2 + '</div>',
                                iconAnchor: [20, 25]
                            })
                        }));
                    }
                }

                mapLayer.lineLayeryy.push(L.polyline(lineZ, {color: 'green', weight: 5}).bindPopup(item));
                var totalLenArr = [];
                var lineLen = 0;
                var spoint = '';
                var zpoint = '';
                var started = false;
                var tempolyline = [];
                var tempolylinecp = '';
                for(var k = 0; k < lineZ.length; k++){
                    if(lineZ[k][2] === 1 && lineZ[k+1] && started === false){
                        spoint = L.point(lineZ[k][0], lineZ[k][1]);
                        tempolyline = [];
                        lineLen = 0;
                        tempolyline.push([lineZ[k][0], lineZ[k][1]]);
                        started = true;
                    }else if(lineZ[k][2] === 0){
                        zpoint = L.point(lineZ[k][0], lineZ[k][1]);
                        lineLen += spoint.distanceTo(zpoint);
                        spoint = zpoint;
                        tempolyline.push([lineZ[k][0], lineZ[k][1]]);
                    }else if(lineZ[k][2] === 1 && started === true){
                        epoint = L.point(lineZ[k][0], lineZ[k][1]);
                        started = false;
                        lineLen += spoint.distanceTo(epoint);
                        tempolyline.push([lineZ[k][0], lineZ[k][1]]);
                        var temline = L.polyline(tempolyline, { weight: 0 });
                        mapLayer.lineNameLayeryy.push(temline);
                        mapLayer.lineNameLayeryyAnother.push([item, lineLen+'']);
                        k--;
                    }
                }

            }
            mapconlayers.lineLayeryy = L.layerGroup(mapLayer.lineLayeryy);

            mapconlayers.lineNameLayeryy = L.layerGroup(mapLayer.lineNameLayeryy);
            mapconlayers.lineNameLayeryy2 = '';

            mapconlayers.labelLayeryy = L.layerGroup(mapLayer.labelLayeryy);
            mapconlayers.pointLayeryy = L.layerGroup(mapLayer.pointLayeryy);
            if(showSubLine){
                map.on('zoomend', function(){
                    if(map.getZoom() > 13){
                        var inputdom = document.querySelectorAll('input[name="xianlu"]');
                        for(var i = 0; i < inputdom.length; i++){
                            if(inputdom[i].value === 'yunying' && inputdom[i].checked === true){
                                mapconlayers.labelLayeryy.addTo(map);
                                mapconlayers.pointLayeryy.addTo(map);
                            }
                        }
                    }else{
                        map.removeLayer(mapconlayers.labelLayeryy);
                        map.removeLayer(mapconlayers.pointLayeryy);
                    }

                    if(map.getZoom() > 12){
                        var inputdom = document.querySelectorAll('input[name="xianlu"]');
                        for(var i = 0; i < inputdom.length; i++){
                            if(inputdom[i].value === 'yunying' && inputdom[i].checked === true){
                                if(!map.hasLayer(mapconlayers.lineNameLayeryy)){
                                    mapconlayers.lineNameLayeryy.addTo(map);
                                    var yyNameLays = mapconlayers.lineNameLayeryy.getLayers();
                                    for(var n = 0; n < yyNameLays.length; n++){
                                        tempolylinecp = yyNameLays[n].getCenter();
                                        
                                        if(mapLayer.lineNameLayeryyAnother[n][1] * 1 > 0.025){
                                            mapLayer.lineNameLayeryy2.push(L.marker([ tempolylinecp.lat, tempolylinecp.lng ], {
                                                icon: L.divIcon({
                                                    html: '<span style="display: inline-block; color: white; white-space: nowrap; font-size: 3px; transform: translate(-50%, 0); background-color: green; border-radius: 5px; padding: 1px 1px;">' + mapLayer.lineNameLayeryyAnother[n][0] + '</span>'
                                                })
                                            }));
                                        }

                                        mapconlayers.lineNameLayeryy2 = L.layerGroup(mapLayer.lineNameLayeryy2);
                                        mapconlayers.lineNameLayeryy2.addTo(map);
                                    }
                                }
                            }
                        }
                    }else{
                        if(map.hasLayer(mapconlayers.lineNameLayeryy)){
                            map.removeLayer(mapconlayers.lineNameLayeryy);
                        }
                        
                        if(map.hasLayer(mapconlayers.lineNameLayeryy2)){
                            map.removeLayer(mapconlayers.lineNameLayeryy2);
                        }
                    }
                });
            }else{
                map.off('zoomend');
            }
        }
        var inputdom = document.querySelectorAll('input[name="xianlu"]');
        for(var i = 0; i < inputdom.length; i++){
            if(inputdom[i].value === 'yunying' && inputdom[i].checked === true && showSubLine){
                mapconlayers.lineLayeryy.addTo(map);
            }
        }
    },

    clearSubWayLines() {
        if(map.hasLayer(mapconlayers.lineLayergh)){
            map.removeLayer(mapconlayers.lineLayergh);
        }
        if(map.hasLayer(mapconlayers.labelLayergh)){
            map.removeLayer(mapconlayers.labelLayergh);
        }
        if(map.hasLayer(mapconlayers.pointLayergh)){
            map.removeLayer(mapconlayers.pointLayergh);
        }
        if(map.hasLayer(mapconlayers.lineNameLayergh)){
            map.removeLayer(mapconlayers.lineNameLayergh);
        }
        if(map.hasLayer(mapconlayers.lineNameLayergh2)){
            map.removeLayer(mapconlayers.lineNameLayergh2);
        }


        if(map.hasLayer(mapconlayers.lineLayerzj)){
            map.removeLayer(mapconlayers.lineLayerzj);
        }
        if(map.hasLayer(mapconlayers.labelLayerzj)){
            map.removeLayer(mapconlayers.labelLayerzj);
        }
        if(map.hasLayer(mapconlayers.pointLayerzj)){
            map.removeLayer(mapconlayers.pointLayerzj);
        }
        if(map.hasLayer(mapconlayers.lineNameLayerzj)){
            map.removeLayer(mapconlayers.lineNameLayerzj);
        }
        if(map.hasLayer(mapconlayers.lineNameLayerzj2)){
            map.removeLayer(mapconlayers.lineNameLayerzj2);
        }


        if(map.hasLayer(mapconlayers.lineLayeryy)){
            map.removeLayer(mapconlayers.lineLayeryy);
        }
        if(map.hasLayer(mapconlayers.labelLayeryy)){
            map.removeLayer(mapconlayers.labelLayeryy);
        }
        if(map.hasLayer(mapconlayers.pointLayeryy)){
            map.removeLayer(mapconlayers.pointLayeryy);
        }
        if(map.hasLayer(mapconlayers.lineNameLayeryy)){
            map.removeLayer(mapconlayers.lineNameLayeryy);
        }
        if(map.hasLayer(mapconlayers.lineNameLayeryy2)){
            map.removeLayer(mapconlayers.lineNameLayeryy2);
        }
    },

    //GCJ02 转换为 WGS84
    gcj02towgs84 : function(lng, lat) {
        var lat = lat;
        var lng = lng;
        var dlat = that.transformlat(lng - 105.0, lat - 35.0);
        var dlng = that.transformlng(lng - 105.0, lat - 35.0);
        var radlat = lat / 180.0 * PI;
        var magic = Math.sin(radlat);
        magic = 1 - ee * magic * magic;
        var sqrtmagic = Math.sqrt(magic);
        dlat = (dlat * 180.0) / ((a * (1 - ee)) / (magic * sqrtmagic) * PI);
        dlng = (dlng * 180.0) / (a / sqrtmagic * Math.cos(radlat) * PI);
        var mglat = lat + dlat;
        var mglng = lng + dlng;
        return [lng * 2 - mglng, lat * 2 - mglat];
    },
 
    transformlat : function(lng, lat) {
        var lat = lat;
        var lng = lng;
        var ret = -100.0 + 2.0 * lng + 3.0 * lat + 0.2 * lat * lat + 0.1 * lng * lat + 0.2 * Math.sqrt(Math.abs(lng));
        ret += (20.0 * Math.sin(6.0 * lng * PI) + 20.0 * Math.sin(2.0 * lng * PI)) * 2.0 / 3.0;
        ret += (20.0 * Math.sin(lat * PI) + 40.0 * Math.sin(lat / 3.0 * PI)) * 2.0 / 3.0;
        ret += (160.0 * Math.sin(lat / 11.0 * PI) + 320 * Math.sin(lat * PI / 30.0)) * 2.0 / 3.0;
        return ret;
    },
 
    transformlng : function(lng, lat) {
        var lat = lat;
        var lng = lng;
        var ret = 300.0 + lng + 2.0 * lat + 0.1 * lng * lng + 0.1 * lng * lat + 0.1 * Math.sqrt(Math.abs(lng));
        ret += (20.0 * Math.sin(6.0 * lng * PI) + 20.0 * Math.sin(2.0 * lng * PI)) * 2.0 / 3.0;
        ret += (20.0 * Math.sin(lng * PI) + 40.0 * Math.sin(lng / 3.0 * PI)) * 2.0 / 3.0;
        ret += (150.0 * Math.sin(lng / 11.0 * PI) + 300.0 * Math.sin(lng / 30.0 * PI)) * 2.0 / 3.0;
        return ret;
    }
}));